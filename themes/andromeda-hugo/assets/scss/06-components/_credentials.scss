// ============================================================================
// Credentials Showcase Component - BEM Architecture
// ============================================================================
// Enhanced v4.0 with glassmorphism, circular carousel layout, organic blobs
//
// BEM Structure:
// .c-credentials                   - Component block
// .c-credentials__grid             - Badges grid container
// .c-credentials__grid--circular   - Circular arrangement modifier (4 badges)
// .c-credentials__trust-text       - Bottom trust message
//
// Note: Individual .c-badge components are imported separately from _badge.scss
//
// v4.0 Features:
// - Organic blob background with radial gradient
// - Staggered entrance animations for badges
// - Circular carousel layout (desktop 2×2 grid)
// - Responsive grid (2×2 → 2×n → 1×n)
// - Transform origins for circular effect
// - Reduced motion support
// ============================================================================

// Component Block
// ----------------------------------------------------------------------------
.c-credentials {
  padding: $space-16 0; // 64px vertical padding
  position: relative;
  overflow: hidden;

  // Organic background blob (decorative pseudo-element)
  &::before {
    content: '';
    position: absolute;
    top: -15%;
    left: -10%;
    width: 50%;
    height: 140%;
    background: $gradient-radial-primary;
    opacity: 0.08;
    @include organic-blob('organic'); // v4.0 design system mixin
    z-index: 0;
  }

  // Container with z-index layering
  .container {
    position: relative;
    z-index: 1;
  }
}

// Background Modifier
.c-credentials--light {
  background: $gradient-warm-subtle;
}

.c-credentials--compact {
  padding: $space-12 0; // 48px vertical padding

  @media (max-width: $breakpoint-md) {
    padding: $space-6 0; // 32px for mobile
  }
}

// Section Header (Title + Subtitle + Description)
// ----------------------------------------------------------------------------
.c-credentials__header {
  text-align: center;
  margin-bottom: $space-12;

  @media (max-width: $breakpoint-md) {
    margin-bottom: $space-8;
  }
}

.c-credentials__subtitle {
  font-size: $text-sm;
  font-weight: $weight-semibold;
  color: $color-secondary;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: $space-3;
}

.c-credentials__title {
  font-size: $text-4xl;
  color: $color-text-primary;
  margin-bottom: $space-4;

  @media (max-width: $breakpoint-lg) {
    font-size: $text-3xl;
  }

  @media (max-width: $breakpoint-md) {
    font-size: $text-2xl;
  }
}

.c-credentials__description {
  font-size: $text-lg;
  color: $color-text-secondary;
  line-height: $leading-relaxed;
  max-width: 700px;
  margin: 0 auto;

  @media (max-width: $breakpoint-md) {
    font-size: $text-base;
  }
}

// Badges Grid Container
// ----------------------------------------------------------------------------
.c-credentials__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: $gap-normal; // 24px
  max-width: 1100px;
  margin: 0 auto;
  position: relative;
  z-index: 1;

  // Tablet: 2-column grid
  @media (min-width: $breakpoint-md) and (max-width: $breakpoint-lg) {
    grid-template-columns: repeat(2, 1fr);
  }

  // Mobile: Stack vertically
  @media (max-width: $breakpoint-sm) {
    grid-template-columns: 1fr;
    gap: $gap-tight; // 12px
  }
}

// Circular Grid Modifier (Desktop 2×2 layout with transform origins)
// ----------------------------------------------------------------------------
.c-credentials__grid--circular {
  // Desktop: Circular arrangement for 4 badges
  @media (min-width: $breakpoint-lg) {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, auto);
    gap: $gap-spacious; // 32px
    max-width: 900px;

    // Transform origins for circular effect
    // Badges rotate and scale from corners toward center
    .c-badge:nth-child(1),
    .credential-badge:nth-child(1) {
      transform-origin: bottom right;
    }

    .c-badge:nth-child(2),
    .credential-badge:nth-child(2) {
      transform-origin: bottom left;
    }

    .c-badge:nth-child(3),
    .credential-badge:nth-child(3) {
      transform-origin: top right;
    }

    .c-badge:nth-child(4),
    .credential-badge:nth-child(4) {
      transform-origin: top left;
    }

    // Ensure hover z-index layering
    .c-badge:hover,
    .credential-badge:hover {
      z-index: 10;
    }
  }
}

// Staggered Entrance Animations (v4.0)
// ----------------------------------------------------------------------------
// Applied to individual badge children within grid
.c-credentials__grid .c-badge,
.c-credentials__grid .credential-badge {
  @include staggered-entrance(fade-in-up, 100ms);

  // Reduced motion support
  @media (prefers-reduced-motion: reduce) {
    animation: none;
  }
}

// Trust Text Container
// ----------------------------------------------------------------------------
.c-credentials__trust-text {
  max-width: 700px;
  margin: 0 auto;
  margin-top: $space-8; // 32px spacing from grid
  text-align: center;

  p {
    font-family: $font-secondary;
    font-size: $text-base; // 1rem
    font-style: italic;
    color: $gray-500;
    line-height: 1.6;
    margin: 0;
  }

  @media (max-width: $breakpoint-sm) {
    margin-top: $space-6; // 24px on mobile

    p {
      font-size: $text-sm; // 0.875rem on mobile
    }
  }
}

// ============================================================================
// Legacy Compatibility Layer
// ============================================================================
// Maps old class names to new BEM structure using @extend
// Maintains backward compatibility with existing HTML templates
// Remove these after template updates are complete
// ============================================================================

// Section-level legacy classes
.credentials-showcase {
  @extend .c-credentials;

  // Background modifier legacy
  &.bg-light {
    @extend .c-credentials--light;
  }
}

// Grid legacy class
.credentials-grid {
  @extend .c-credentials__grid;

  // Circular variant legacy
  &.credentials-grid-circular {
    @extend .c-credentials__grid--circular;
  }
}

// Trust text legacy class
.credentials-trust-text {
  @extend .c-credentials__trust-text;
}

// Responsive Legacy Adjustments
// ----------------------------------------------------------------------------
// These maintain backward compatibility with old responsive behavior
@media (max-width: 768px) {
  .credential-badge {
    width: 100%;
    margin: $space-2 0; // 8px 0
    justify-content: center;
  }

  .credentials-grid {
    flex-direction: column;
    align-items: stretch;
  }

  .credentials-showcase {
    padding: $space-6 0; // 32px (smaller for mobile, from 64px desktop)
  }
}

@media (max-width: 576px) {
  .credential-badge {
    padding: $space-2 $space-4; // 8px 16px (matches sm variant)
  }

  .credential-badge-label {
    font-size: $text-sm; // 0.875rem
  }

  .credential-badge-value {
    font-size: $text-xs; // 0.75rem
  }
}
