// ============================================================================
// CTA Split Panel Section Component - BEM Architecture (Redesign 2025)
// ============================================================================
// Split panel layout with white left (checklist) and sage right (CTA)
//
// Features:
// - 60/40 split layout (white left, sage green right)
// - Section badge pill
// - Title with italic sage green accent
// - Custom checklist with sage check icons
// - Quote box with gold left border
// - Glassmorphism icon circle on right
// - CTA button + disclaimer
// - Responsive stacking on mobile
//
// Version: 1.0.0
// Updated: 2025-11-23
// ============================================================================

@use '../01-settings/tokens-colors' as *;
@use '../01-settings/tokens-typography' as *;
@use '../01-settings/tokens-spacing' as *;
@use '../01-settings/tokens-components' as *;
@use '../01-settings/tokens-shadows' as *;

// ============================================================================
// Section Wrapper
// ============================================================================

.c-cta-split {
  padding: $section-padding-y 0; // Vertical padding for dark green container
  overflow: hidden; // Contain heavy rounding
  background-color: $forest-700; // Dark forest green background (#2F5548)
  position: relative; // For decorative blob positioning

  // Decorative organic blob background
  &::before {
    content: '';
    position: absolute;
    top: -10%; // Overflow top
    right: -5%; // Overflow right
    width: 60%; // Large blob
    height: 120%; // Taller than section
    background: rgba($forest-600, 0.35); // Darker forest green with medium opacity
    border-radius: 45% 55% 60% 40% / 50% 45% 55% 50%; // Organic blob shape
    z-index: 0; // Behind content
    pointer-events: none; // Don't block interactions
  }

  // Second decorative blob (bottom-left) - Very dark green (Redesign 2025)
  &::after {
    content: '';
    position: absolute;
    bottom: -15%; // Overflow bottom
    left: -8%; // Overflow left
    width: 50%; // Medium blob
    height: 100%;
    background: rgba($forest-900, 0.85); // Almost black forest green with high opacity
    border-radius: 60% 40% 55% 45% / 45% 60% 40% 55%; // Different organic shape
    z-index: 0; // Behind content
    pointer-events: none; // Don't block interactions
  }
}

// ============================================================================
// Split Panel Grid
// ============================================================================

.c-cta-split__grid {
  display: grid;
  grid-template-columns: 1fr; // Mobile: stacked
  border-radius: $radius-2xl; // 32px heavy rounding on overall section
  overflow: hidden; // Clip content to rounded corners
  position: relative; // Above decorative blobs
  z-index: 1; // Ensure content is above background blobs

  @media (min-width: $breakpoint-lg) {
    grid-template-columns: 60fr 40fr; // Desktop: 60/40 split
  }
}

// ============================================================================
// Left Panel (White Background)
// ============================================================================

.c-cta-split__left {
  padding: $space-16; // 64px mobile
  background-color: $cream-50; // White background
  display: flex;
  flex-direction: column;
  gap: $space-6; // 24px between elements

  @media (max-width: $breakpoint-md - 1) {
    padding: $space-12; // 48px on smaller mobile
  }
}

// Section Badge Pill
.c-cta-split__badge {
  display: inline-block;
  align-self: flex-start;
  padding: $space-2 $space-4; // 8px 16px
  background-color: $cream-100; // Cream pill
  color: $forest-500; // Dark green text
  font-family: $font-body;
  font-size: $font-size-xs; // 11px
  font-weight: $font-weight-normal;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  border-radius: $radius-full; // Pill shape
}

// Left Panel Title
.c-cta-split__title {
  font-family: $font-heading;
  font-size: $font-size-3xl; // 36px
  font-weight: $font-weight-semibold;
  line-height: $leading-tight;
  color: $text-primary-green; // Dark green

  @media (max-width: $breakpoint-md - 1) {
    font-size: $font-size-2xl; // 30px mobile
  }
}

// Title Accent (italic sage green)
.c-cta-split__title-accent {
  font-style: italic;
  color: $sage-500; // Sage green for accent phrase
}

// ============================================================================
// Checklist
// ============================================================================

.c-cta-split__checklist {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: $space-5; // 20px between items
}

.c-cta-split__check-item {
  display: flex;
  align-items: flex-start;
  gap: $space-4; // 16px between icon and text
}

.c-cta-split__check-icon {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: $sage-500; // Sage green check icons
  font-size: $font-size-2xl; // 24px icon size

  i {
    display: block;
  }
}

.c-cta-split__check-text {
  font-family: $font-body;
  font-size: $font-size-base; // 16px
  line-height: 1.8;
  color: $text-muted-green; // Muted green-grey
  flex: 1;
}

// ============================================================================
// Quote Box
// ============================================================================

.c-cta-split__quote {
  margin-top: $space-8; // 32px top margin
  padding: $space-4 $space-6; // 16px 24px
  background-color: $cream-100; // Cream background
  border-left: 4px solid $gold-500; // Gold left border accent
  border-radius: $radius-md; // 8px
}

.c-cta-split__quote-text {
  font-family: $font-body;
  font-size: $font-size-sm; // 14px
  font-style: italic;
  line-height: 1.6;
  color: $text-muted-green; // Muted green-grey
  margin: 0 0 $space-2 0;
}

.c-cta-split__quote-author {
  font-family: $font-body;
  font-size: $font-size-xs; // 12px
  font-style: normal;
  font-weight: $font-weight-semibold;
  color: $text-primary-green;
  display: block;
}

// ============================================================================
// Right Panel (Sage Green Background)
// ============================================================================

.c-cta-split__right {
  padding: 3.5rem; // 56px (custom value between $space-12 and $space-16)
  background-color: #7A9A8A; // Muted sage green (between forest and sage)
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  gap: $space-4; // 16px base gap

  @media (max-width: $breakpoint-md - 1) {
    padding: $space-12; // 48px mobile
  }
}

// Glassmorphism Icon Circle
.c-cta-split__icon-circle {
  width: 120px;
  height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba($cream-50, 0.15); // White with low opacity
  backdrop-filter: blur(10px); // Glassmorphism blur
  border-radius: 50%; // Perfect circle
  border: 1px solid rgba($cream-50, 0.2); // Subtle border
  margin-bottom: $space-8; // 32px gap to title

  i {
    font-size: 3rem; // 48px icon
    color: $cream-50; // White icon
  }

  @media (max-width: $breakpoint-sm - 1) {
    width: 100px;
    height: 100px;

    i {
      font-size: 2.5rem; // 40px mobile
    }
  }
}

// Right Panel Title
.c-cta-split__right-title {
  font-family: $font-body;
  font-size: $font-size-2xl; // 28px
  font-weight: $font-weight-semibold;
  line-height: $leading-tight;
  color: $cream-50; // White text
  margin: 0 0 $space-4 0;

  @media (max-width: $breakpoint-md - 1) {
    font-size: $font-size-xl; // 24px mobile
  }
}

// Right Panel Description
.c-cta-split__right-desc {
  font-family: $font-body;
  font-size: $font-size-base; // 16px
  line-height: 1.6;
  color: rgba($cream-50, 0.9); // White with 90% opacity
  margin: 0 0 $space-8 0; // 32px gap to button
  max-width: 400px;

  p {
    margin: 0;
  }
}

// CTA Button (White variant)
.c-cta-split__right .c-button {
  background-color: $cream-50; // White background
  color: $forest-500; // Dark green text
  border: none;

  &:hover {
    background-color: darken($cream-50, 5%);
    transform: translateY(-1px);
  }
}

// Disclaimer Text
.c-cta-split__disclaimer {
  font-family: $font-body;
  font-size: $font-size-xs; // 13px
  line-height: 1.4;
  color: rgba($cream-50, 0.7); // White with 70% opacity
  margin: $space-5 0 0 0; // 20px top margin
  max-width: 350px;
}

// ============================================================================
// Responsive Adjustments
// ============================================================================

@media (max-width: $breakpoint-lg - 1) {
  .c-cta-split__grid {
    // Stack panels vertically
    grid-template-columns: 1fr;
  }

  .c-cta-split__left {
    border-radius: $radius-2xl $radius-2xl 0 0; // Round top only
  }

  .c-cta-split__right {
    border-radius: 0 0 $radius-2xl $radius-2xl; // Round bottom only
  }
}

// ============================================================================
// Print Styles
// ============================================================================

@media print {
  .c-cta-split {
    page-break-inside: avoid;
  }

  .c-cta-split__grid {
    display: block;
  }

  .c-cta-split__right {
    margin-top: 1rem;
    background-color: lighten($sage-500, 40%);
    color: $text-primary-green;
  }

  .c-cta-split__icon-circle {
    display: none;
  }
}

// ============================================================================
// Accessibility Enhancements
// ============================================================================

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .c-cta-split__right .c-button {
    transition: none;

    &:hover {
      transform: none;
    }
  }

  .c-cta-split__icon-circle {
    backdrop-filter: none;
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .c-cta-split__badge {
    border: 1px solid currentColor;
  }

  .c-cta-split__quote {
    border-left-width: 6px;
  }

  .c-cta-split__icon-circle {
    border-width: 2px;
  }
}

// Focus visible support
.c-cta-split__right .c-button:focus-visible {
  outline: 2px solid $cream-50;
  outline-offset: 2px;
}
