// ==================================
// ICON BLOB COMPONENT - BEM Architecture
// ==================================
//
// Purpose: Icon with organic blob background for service cards
// Features: 5 color variants, 3 size variants, circular organic shape
//
// Created: 2025-11-23 (REDESIGN 2025 - Phase 2)
// Version: 1.0.0 (ITCSS + BEM)
//
// BEM Structure:
// Block: .c-icon-blob
// Element: .c-icon-blob__icon
// Modifiers: --blue, --sage, --gold, --coral, --purple, --sm, --lg
//
// Design Spec: ~80px diameter circles with 10% opacity color tints
//

/*------------------------------------------------------------------
  # Base Icon Blob Block
-------------------------------------------------------------------*/

/**
 * Base icon blob component
 * Circular background with centered icon
 * REDESIGN 2025: Organic blob shape with hover state
 * Default: Light green background with green icons
 * Hover: Dark green background with gold icons
 */
.c-icon-blob {
  width: 80px;          // Default md size (matches design spec)
  height: 80px;
  border-radius: 50%;   // Perfect circle
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  transition: transform $duration-base $ease-in-out,
              background-color 400ms $ease-in-out;
  flex-shrink: 0;       // Prevent shrinking in flex layouts

  // Subtle hover scale on card hover (parent context)
  .c-card:hover & {
    transform: scale(1.05);
  }
}

/*------------------------------------------------------------------
  # Icon Element
-------------------------------------------------------------------*/

/**
 * Icon inside blob
 * Inherits color from variant modifier
 * Transitions to gold on hover
 */
.c-icon-blob__icon {
  font-size: 32px;      // Icon size (40% of blob diameter)
  line-height: 1;
  z-index: 1;           // Above background
  transition: color 400ms $ease-in-out;
}

/*------------------------------------------------------------------
  # Color Variant Modifiers (REDESIGN 2025)
-------------------------------------------------------------------*/

/**
 * All variants use:
 * Default: Light green background with green icons
 * Hover: Dark forest green background with gold icons
 *
 * REDESIGN 2025: Unified color scheme with interactive hover state
 */

/**
 * Blue variant - Cognitive/analytical services
 */
.c-icon-blob--blue {
  background-color: $forest-100;  // Light green background

  .c-icon-blob__icon {
    color: $forest-500;  // Green icon
  }

  // Hover state
  .c-card:hover &,
  .c-method-card:hover & {
    background-color: $forest-700;  // Dark forest green

    .c-icon-blob__icon {
      color: $gold-500;  // Gold icon
    }
  }
}

/**
 * Sage variant - Mindfulness/calm services
 */
.c-icon-blob--sage {
  background-color: $forest-100;  // Light green background

  .c-icon-blob__icon {
    color: $forest-500;  // Green icon
  }

  // Hover state
  .c-card:hover &,
  .c-method-card:hover & {
    background-color: $forest-700;  // Dark forest green

    .c-icon-blob__icon {
      color: $gold-500;  // Gold icon
    }
  }
}

/**
 * Gold variant - Premium/valued services
 */
.c-icon-blob--gold {
  background-color: $forest-100;  // Light green background

  .c-icon-blob__icon {
    color: $forest-500;  // Green icon
  }

  // Hover state
  .c-card:hover &,
  .c-method-card:hover & {
    background-color: $forest-700;  // Dark forest green

    .c-icon-blob__icon {
      color: $gold-500;  // Gold icon
    }
  }
}

/**
 * Coral variant - Warm/compassionate services
 */
.c-icon-blob--coral {
  background-color: $forest-100;  // Light green background

  .c-icon-blob__icon {
    color: $forest-500;  // Green icon
  }

  // Hover state
  .c-card:hover &,
  .c-method-card:hover & {
    background-color: $forest-700;  // Dark forest green

    .c-icon-blob__icon {
      color: $gold-500;  // Gold icon
    }
  }
}

/**
 * Purple variant - Schema/deep work services
 */
.c-icon-blob--purple {
  background-color: $forest-100;  // Light green background

  .c-icon-blob__icon {
    color: $forest-500;  // Green icon
  }

  // Hover state
  .c-card:hover &,
  .c-method-card:hover & {
    background-color: $forest-700;  // Dark forest green

    .c-icon-blob__icon {
      color: $gold-500;  // Gold icon
    }
  }
}

/*------------------------------------------------------------------
  # Context-Specific Overrides
-------------------------------------------------------------------*/

/**
 * Services Preview Section - No hover effect
 * Keep dark green background with gold icons permanently
 */
.c-services-preview {
  .c-icon-blob--blue,
  .c-icon-blob--sage,
  .c-icon-blob--gold,
  .c-icon-blob--coral,
  .c-icon-blob--purple {
    background-color: $forest-700;  // Dark forest green (permanent)

    .c-icon-blob__icon {
      color: $gold-500;  // Gold icon (permanent)
    }

    // Override hover state for this section
    .c-card:hover & {
      background-color: $forest-700;  // Stay dark green

      .c-icon-blob__icon {
        color: $gold-500;  // Stay gold
      }
    }
  }
}

/*------------------------------------------------------------------
  # Size Modifiers
-------------------------------------------------------------------*/

/**
 * Small blob - 60px diameter
 */
.c-icon-blob--sm {
  width: 60px;
  height: 60px;

  .c-icon-blob__icon {
    font-size: 24px;  // 40% of diameter
  }
}

/**
 * Large blob - 100px diameter
 */
.c-icon-blob--lg {
  width: 100px;
  height: 100px;

  .c-icon-blob__icon {
    font-size: 70px;  // Enlarged icon size
  }
}

/*------------------------------------------------------------------
  # Responsive Behavior
-------------------------------------------------------------------*/

/**
 * Mobile optimizations - slightly smaller blobs
 */
@media (max-width: 767px) {
  .c-icon-blob {
    width: 70px;
    height: 70px;

    .c-icon-blob__icon {
      font-size: 28px;
    }
  }

  .c-icon-blob--sm {
    width: 56px;
    height: 56px;

    .c-icon-blob__icon {
      font-size: 22px;
    }
  }

  .c-icon-blob--lg {
    width: 88px;
    height: 88px;

    .c-icon-blob__icon {
      font-size: 61px;  // 70px scaled proportionally for mobile
    }
  }
}

/*------------------------------------------------------------------
  # Accessibility
-------------------------------------------------------------------*/

/**
 * Respect reduced motion preference
 */
@media (prefers-reduced-motion: reduce) {
  .c-icon-blob {
    transition: none;
  }

  .c-card:hover .c-icon-blob {
    transform: none;
  }
}

// ==================================
// USAGE GUIDE
// ==================================
//
// Basic icon blob:
//   <div class="c-icon-blob c-icon-blob--blue">
//     <i class="las la-brain c-icon-blob__icon"></i>
//   </div>
//
// Size variants:
//   <div class="c-icon-blob c-icon-blob--sage c-icon-blob--sm">
//     <i class="las la-spa c-icon-blob__icon"></i>
//   </div>
//
// In Hugo templates (via atoms/icon-blob.html):
//   {{ partial "atoms/icon-blob.html" (dict
//     "icon" "las la-brain"
//     "variant" "blue"
//     "size" "md"
//   ) }}
//
// Color variants available:
//   - blue: Cognitive/analytical (slate-500)
//   - sage: Mindfulness/calm ($sage-500 #6B9080)
//   - gold: Premium/valued ($gold-500 #C5A880)
//   - coral: Warm/compassionate (coral-500)
//   - purple: Schema/deep work (purple-500)
//
// ==================================
// END OF ICON BLOB COMPONENT
// ==================================
