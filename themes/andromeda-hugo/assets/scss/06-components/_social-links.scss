// =============================================================================
// Social Links Component (BEM)
// =============================================================================
// Version: 1.0.0
// Description: Social media links with icons, grid/inline layouts, color variants
// Dependencies: 01-settings (tokens), atoms/icon
// BEM Block: .c-social
//
// Structure:
//   .c-social                    - Block (wrapper)
//   .c-social--primary          - Modifier: primary color variant
//   .c-social--secondary        - Modifier: secondary color variant
//   .c-social--tertiary         - Modifier: tertiary color variant
//   .c-social--neutral          - Modifier: neutral color variant
//   .c-social--inline           - Modifier: inline layout
//   .c-social--grid             - Modifier: grid layout (default)
//   .c-social__list             - Element: ul container
//   .c-social__item             - Element: li item
//   .c-social__link             - Element: anchor tag
// =============================================================================

// -----------------------------------------------------------------------------
// Block: Social container
// -----------------------------------------------------------------------------
.c-social {
  // Layout
  display: block;
  width: 100%;
}

// -----------------------------------------------------------------------------
// Element: List container (ul)
// -----------------------------------------------------------------------------
.c-social__list {
  // Reset list styles
  list-style: none;
  margin: 0;
  padding: 0;

  // Layout
  display: flex;
  align-items: center;

  // Spacing (8pt grid)
  gap: $space-3; // 24px - comfortable spacing between icons

  // Default: grid layout (wrap)
  flex-wrap: wrap;

  @media (max-width: $breakpoint-md - 1) {
    gap: $space-2; // 16px on mobile
  }
}

// -----------------------------------------------------------------------------
// Element: List item (li)
// -----------------------------------------------------------------------------
.c-social__item {
  // Reset
  margin: 0;
  padding: 0;

  // Layout
  display: block;
}

// -----------------------------------------------------------------------------
// Element: Link (anchor)
// -----------------------------------------------------------------------------
.c-social__link {
  // Layout
  display: inline-flex;
  align-items: center;
  justify-content: center;

  // Size (icon wrapper size) - 138% larger than before (98% + 20% extra)
  width: calc($space-6 * 2.38); // 114px (48px × 2.38) - larger touch target
  height: calc($space-6 * 2.38);

  // Spacing
  padding: $space-2; // 16px internal padding

  // Visual
  border-radius: $border-radius-circle; // Circular
  background: transparent;
  position: relative;
  transition: all $transition-base $easing-ease-out;

  // NO underlines or decorations
  text-decoration: none !important;
  background-image: none !important; // Remove gradient underlines from navigation system

  // Override any global link underline styles
  &:hover,
  &:focus,
  &:active,
  &:visited {
    text-decoration: none !important;
    background-image: none !important;
  }

  // Gradient circle border (outline only, no fill)
  &::before {
    content: '';
    position: absolute;
    top: -0.5px; // Border width (0.5px - half as thin)
    left: -0.5px;
    right: -0.5px;
    bottom: -0.5px;
    border-radius: $border-radius-circle;
    // Gradient background for the border
    background: linear-gradient(135deg, $forest-400 0%, $sage-400 100%);
    opacity: 0; // Hidden by default
    transform: scale(1);
    transition: all $transition-base $easing-ease-out;
    z-index: 0;
  }

  // Create the "hole" in the middle by covering with background
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: $border-radius-circle;
    background: #fff; // Match your page background
    z-index: 1;
  }

  // Icon must be on top - no underlines on icon text
  i, svg, .c-icon {
    position: relative;
    z-index: 2;
    text-decoration: none !important;
  }

  // Typography
  color: inherit; // Icon color controlled by icon atom

  // Accessibility
  cursor: pointer;

  // States: Hover - show gradient border
  &:hover {
    &::before {
      opacity: 1; // Show gradient border ring on hover
      transform: scale(1.05);
    }
  }

  // States: Focus
  &:focus {
    outline: none;
    text-decoration: none;
    animation: socialLinkFocusGlow 0.3s ease-in-out;
  }

  @keyframes socialLinkFocusGlow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba($color-primary, 0);
    }
    50% {
      box-shadow: 0 0 0 4px rgba($color-primary, 0.3);
    }
  }

  // States: Active
  &:active {
    &::before {
      opacity: 1; // Keep border visible when clicking
      transform: scale(0.95);
    }
  }

  // Responsive: Mobile - 138% larger
  @media (max-width: $breakpoint-md - 1) {
    width: calc($space-5 * 2.38); // 95.2px on mobile (40px × 2.38)
    height: calc($space-5 * 2.38);
    padding: $space-2; // 16px internal padding
  }
}

// -----------------------------------------------------------------------------
// Modifier: Inline layout
// -----------------------------------------------------------------------------
.c-social--inline {
  .c-social__list {
    flex-wrap: nowrap; // Don't wrap items
    justify-content: flex-start;

    @media (max-width: $breakpoint-md - 1) {
      justify-content: center; // Center on mobile
    }
  }
}

// -----------------------------------------------------------------------------
// Modifier: Grid layout (default, explicit for clarity)
// -----------------------------------------------------------------------------
.c-social--grid {
  .c-social__list {
    flex-wrap: wrap; // Wrap items
  }
}

// -----------------------------------------------------------------------------
// Modifier: Color variants (primary, secondary, tertiary, neutral)
// -----------------------------------------------------------------------------
// These modifiers apply gradient border rings (outline only, no fill)

.c-social--primary {
  .c-social__link {
    &::before {
      background: linear-gradient(135deg, $forest-400 0%, $sage-400 100%);
    }
  }
}

.c-social--secondary {
  .c-social__link {
    &::before {
      background: linear-gradient(135deg, $sage-400 0%, $gold-500 100%);
    }
  }
}

.c-social--tertiary {
  .c-social__link {
    &::before {
      background: linear-gradient(135deg, $color-tertiary 0%, lighten($color-tertiary, 10%) 100%);
    }
  }
}

.c-social--neutral {
  .c-social__link {
    &::before {
      background: linear-gradient(135deg, $color-neutral 0%, lighten($color-neutral, 15%) 100%);
    }
  }
}

// -----------------------------------------------------------------------------
// Accessibility: Reduced motion
// -----------------------------------------------------------------------------
@media (prefers-reduced-motion: reduce) {
  .c-social__link {
    transition: none;

    &::before {
      transition: none;
    }
  }
}

// -----------------------------------------------------------------------------
// Accessibility: High contrast mode
// -----------------------------------------------------------------------------
@media (prefers-contrast: high) {
  .c-social__link {
    &:focus {
      outline-width: 3px;
    }
  }
}

// -----------------------------------------------------------------------------
// Print styles
// -----------------------------------------------------------------------------
@media print {
  .c-social {
    display: none; // Hide social links in print
  }
}

// -----------------------------------------------------------------------------
// Backward Compatibility (Legacy classes via @extend)
// -----------------------------------------------------------------------------
// Support old class names for gradual migration
// TODO: Remove after all templates migrated to BEM classes

.social-links {
  @extend .c-social;
  @extend .c-social--grid; // Default was grid

  .social-link {
    @extend .c-social__link;
  }
}
