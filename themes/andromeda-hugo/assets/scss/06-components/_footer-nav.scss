/**
 * Footer Navigation Component
 * BEM Component: .c-footer-nav
 *
 * Displays social links, email, and quick links in footer
 *
 * Structure:
 *   .c-footer-nav                    - Root container
 *   .c-footer-nav--{variant}         - Color variant modifier
 *   .c-footer-nav__section           - Individual section (social or quick links)
 *   .c-footer-nav__section--social   - Social section modifier
 *   .c-footer-nav__section--links    - Quick links section modifier
 *   .c-footer-nav__title             - Section heading
 *   .c-footer-nav__email             - Email link container
 *   .c-footer-nav__social            - Social links container (uses social-links molecule)
 *   .c-footer-nav__links             - Quick links list
 *   .c-footer-nav__item              - Individual quick link item
 *   .c-footer-nav__link              - Link element (email or quick link)
 *
 * Variants:
 *   --primary (default) - Emerald accents
 *   --secondary         - Terracotta accents
 *   --tertiary          - Blue accents
 *   --neutral           - Gray accents
 *
 * Features:
 *   - Social links molecule integration
 *   - Responsive layout (stacked mobile â†’ side-by-side desktop)
 *   - 8pt spacing grid
 *   - Playfair Display typography for headings
 *   - DM Sans typography for body text
 *   - Color variants via design tokens
 *   - Hover effects on links
 *   - Print styles (optimized for print)
 *   - Accessibility (high contrast, focus indicators)
 *   - Backward compatibility via @extend
 *
 * Usage:
 *   <div class="c-footer-nav">
 *     <div class="c-footer-nav__section c-footer-nav__section--social">...</div>
 *     <div class="c-footer-nav__section c-footer-nav__section--links">...</div>
 *   </div>
 */

// ============================================================================
// Root Component
// ============================================================================

.c-footer-nav {
  // Layout
  display: flex;
  flex-direction: column;
  gap: var(--footer-nav-gap);

  // Spacing (8pt grid)
  padding: var(--footer-nav-padding);

  // Typography
  font-family: var(--footer-nav-font-family);
  font-size: var(--footer-nav-font-size);
  line-height: $line-height-normal;
  color: var(--footer-nav-color);

  // Responsive layout - side by side on tablet+
  @media (min-width: $breakpoint-md) {
    flex-direction: row;
    gap: var(--footer-nav-gap-desktop);
    padding: var(--footer-nav-padding-desktop);
  }

  @media (min-width: $breakpoint-lg) {
    max-width: 66.666%; // 2/3 width on desktop (complements footer-info at 1/3)
  }
}

// ============================================================================
// Section Elements
// ============================================================================

.c-footer-nav__section {
  flex: 1 1 auto;
  min-width: 0; // Allow flex items to shrink below content size

  // Social section - slightly wider (Redesign 2025)
  &--social {
    // Margin removed from section to keep title aligned with other footer titles
    // Margin now applied to .c-footer-nav__social to push only icons down

    @media (min-width: $breakpoint-md) {
      flex: 1.5 1 auto;
    }
  }

  // Links section
  &--links {
    @media (min-width: $breakpoint-md) {
      flex: 1 1 auto;
    }
  }
}

.c-footer-nav__title {
  margin-bottom: var(--footer-nav-title-margin-bottom);
  font-family: var(--footer-nav-title-font-family);
  font-size: var(--footer-nav-title-font-size);
  font-weight: var(--footer-nav-title-font-weight);
  color: var(--footer-nav-title-color);

  // Remove any underlines/decorations in footer context
  text-decoration: none;

  &::after {
    display: none !important; // Force remove any gradient underlines
  }
}

// ============================================================================
// Email Section
// ============================================================================

.c-footer-nav__email {
  margin-bottom: $space-4; // 32px below email
}

// ============================================================================
// Social Links Section
// ============================================================================

.c-footer-nav__social {
  margin-top: var(--footer-nav-social-margin-top);

  // Override social-links molecule spacing for footer context
  .c-social {
    margin-top: 0;
  }
}

// ============================================================================
// Quick Links Section
// ============================================================================

.c-footer-nav__links {
  list-style: none;
  margin: 0;
  padding: 0;
}

.c-footer-nav__item {
  margin-bottom: var(--footer-nav-item-margin);

  &:last-child {
    margin-bottom: 0;
  }
}

.c-footer-nav__link {
  display: inline-block;
  color: var(--footer-nav-link-color);
  text-decoration: none;
  position: relative;
  padding-bottom: var(--footer-nav-link-padding-bottom);
  transition: var(--footer-nav-link-transition);

  // Remove gradient underline in footer
  &::after {
    display: none; // No underline in footer
  }

  &:hover,
  &:focus {
    color: var(--footer-nav-link-color-hover);
    text-decoration: none;
  }

  &:focus {
    outline: none;
    animation: footerLinkFocusGlow 0.3s ease-in-out;
  }

  @keyframes footerLinkFocusGlow {
    0%, 100% {
      box-shadow: 0 0 0 0 transparent;
    }
    50% {
      box-shadow: 0 0 0 4px var(--nav-focus-glow-color);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    transition: none;

    &::after {
      transition: none;
    }
  }
}

// ============================================================================
// Color Variants
// ============================================================================

// Primary variant (emerald - default)
.c-footer-nav--primary {
  .c-footer-nav__title {
    color: var(--footer-nav-primary-title-color);
  }

  .c-footer-nav__link {
    color: var(--footer-nav-primary-link-color);

    &:hover,
    &:focus {
      color: var(--footer-nav-primary-link-hover-color);
    }

    &:focus {
      outline-color: var(--footer-nav-primary-link-color);
    }
  }
}

// Secondary variant (terracotta - warm)
.c-footer-nav--secondary {
  .c-footer-nav__title {
    color: var(--footer-nav-secondary-title-color);
  }

  .c-footer-nav__link {
    color: var(--footer-nav-secondary-link-color);

    &:hover,
    &:focus {
      color: var(--footer-nav-secondary-link-hover-color);
    }

    &:focus {
      outline-color: var(--footer-nav-secondary-link-color);
    }
  }
}

// Tertiary variant (blue - calm)
.c-footer-nav--tertiary {
  .c-footer-nav__title {
    color: var(--footer-nav-tertiary-title-color);
  }

  .c-footer-nav__link {
    color: var(--footer-nav-tertiary-link-color);

    &:hover,
    &:focus {
      color: var(--footer-nav-tertiary-link-hover-color);
    }

    &:focus {
      outline-color: var(--footer-nav-tertiary-link-color);
    }
  }
}

// Neutral variant (gray - subtle)
.c-footer-nav--neutral {
  .c-footer-nav__title {
    color: var(--footer-nav-neutral-title-color);
  }

  .c-footer-nav__link {
    color: var(--footer-nav-neutral-link-color);

    &:hover,
    &:focus {
      color: var(--footer-nav-neutral-link-hover-color);
    }

    &:focus {
      outline-color: var(--footer-nav-neutral-link-color);
    }
  }
}

// ============================================================================
// Accessibility Enhancements
// ============================================================================

// High contrast mode
@media (prefers-contrast: high) {
  .c-footer-nav {
    .c-footer-nav__title {
      font-weight: $font-weight-bold; // Bolder for high contrast
    }

    .c-footer-nav__link {
      text-decoration: underline; // Always underlined in high contrast
    }
  }
}

// Print styles
@media print {
  .c-footer-nav {
    page-break-inside: avoid;
    flex-direction: column; // Stack sections for print

    .c-footer-nav__social {
      display: none; // Hide social links in print
    }

    .c-footer-nav__link {
      color: $color-text-primary; // Black text for print
      text-decoration: none;

      // Print URL after link for quick links only
      .c-footer-nav__section--links & {
        &::after {
          content: " (" attr(href) ")";
          font-size: $font-size-sm;
          color: $color-text-muted;
        }
      }
    }
  }
}
