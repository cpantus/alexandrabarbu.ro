/* ==========================================================================
   Hero Breadcrumb Section Component
   ========================================================================== */

/**
 * Hero breadcrumb section component - Page header with compass animation or image
 *
 * Usage:
 *   <section class="c-hero-breadcrumb c-hero-breadcrumb--primary">
 *     <div class="c-hero-breadcrumb__container">
 *       <div class="c-hero-breadcrumb__grid">
 *         <div class="c-hero-breadcrumb__content">...</div>
 *         <div class="c-hero-breadcrumb__media">...</div>
 *       </div>
 *     </div>
 *   </section>
 *
 * Variants:
 *   - .c-hero-breadcrumb--primary (forest green accent)
 *   - .c-hero-breadcrumb--secondary (sage green accent)
 *   - .c-hero-breadcrumb--tertiary (gold accent)
 *   - .c-hero-breadcrumb--neutral (gray accent)
 *
 * Features:
 *   - Two-column layout (50/50 split desktop)
 *   - Compass animation support (redesign 2025)
 *   - Title with italic accent support
 *   - Optional subtitle support (18px body text)
 *   - Breadcrumb molecule integration (optional)
 *   - Image or decorative shapes (alternative to compass)
 *   - 4 color variants
 *   - Full accessibility (reduced motion, high contrast, keyboard nav)
 *   - Design tokens only (Playfair Display + DM Sans)
 */

/* Base Component
   ========================================================================== */

.c-hero-breadcrumb {
  // Redesign 2025: Generous vertical spacing per eval1.md
  padding: 4rem 0; // 64px mobile (generous mobile padding)
  background: $cream-100; // Redesign 2025: Cream background (#F4F7F5)
  position: relative;
  overflow: hidden;

  @media (min-width: $breakpoint-lg) {
    // eval1.md spec: ~120px top, ~140px bottom
    padding: 7.5rem 0 8.75rem 0; // 120px top, 140px bottom (7.5rem + 8.75rem)
  }

  // Redesign 2025: Clean background, no radial gradients
  // Compass animation provides visual interest
}

/* Container
   ========================================================================== */

.c-hero-breadcrumb__container {
  // Uses .o-container object from 05-objects/
  @extend .o-container;
}

/* Grid Layout
   ========================================================================== */

.c-hero-breadcrumb__grid {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: 1fr;
  gap: $space-6; // 48px mobile
  align-items: center;

  @media (min-width: $breakpoint-lg) {
    grid-template-columns: 1fr 1fr; // Redesign 2025: 50/50 split (text left, compass right)
    gap: $space-8; // 64px desktop
  }
}

/* Content Column
   ========================================================================== */

.c-hero-breadcrumb__content {
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;

  @media (min-width: $breakpoint-lg) {
    text-align: left;
  }
}

/* Kicker Text
   ========================================================================== */

.c-hero-breadcrumb__kicker {
  margin: 0 0 $space-2 0; // 16px bottom
  font-family: $font-family-sans;
  font-size: $text-xs; // 12px (token-driven)
  font-weight: $font-weight-semibold;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  color: $forest-600; // Redesign 2025: Forest green
}

/* Title
   ========================================================================== */

.c-hero-breadcrumb__title {
  // Redesign 2025: Large hero text with Playfair Display
  margin-bottom: $space-4; // 32px (eval1.md spec: ~32px gap to body)
  font-size: 2.5rem; // 40px mobile
  line-height: 1.2; // Tight for impact
  letter-spacing: -0.02em; // Better kerning for Playfair Display
  font-weight: 600; // Semibold for hero

  @media (min-width: $breakpoint-md) {
    font-size: 3.5rem; // 56px tablet
  }

  @media (min-width: $breakpoint-lg) {
    font-size: 4.5rem; // 72px desktop (eval1.md spec: ~72px)
    line-height: 1.1; // $leading-display for extra tight hero text
  }
}

/* Title Main Span (regular text)
   ========================================================================== */

.c-hero-breadcrumb__title-main {
  display: inline; // Inline with accent
  color: $text-primary-green; // Dark green-black (#1A332A)
}

/* Title Accent Span (italic variant)
   ========================================================================== */

.c-hero-breadcrumb__title-accent {
  display: inline; // Inline after main
  font-style: italic; // Playfair Display italic
  color: $sage-500; // Sage green (#6B9080) for accent
}

/* Subtitle
   ========================================================================== */

.c-hero-breadcrumb__subtitle {
  // Redesign 2025: 18px body text (eval1.md spec)
  margin: 0 0 $space-6 0; // 48px bottom (eval1.md spec: ~48px to CTAs)
  font-family: $font-family-sans; // DM Sans
  font-size: 1.125rem; // 18px (eval1.md spec)
  font-weight: 400; // Normal weight
  line-height: 1.6; // Comfortable reading (eval1.md spec)
  color: $text-muted-green; // Muted green-grey (#587065)
  max-width: 600px; // eval1.md spec: ~600px max for text column

  @media (min-width: $breakpoint-lg) {
    max-width: none; // Remove constraint on desktop (grid handles width)
  }
}

/* Breadcrumb Wrapper
   ========================================================================== */

.c-hero-breadcrumb__breadcrumb {
  margin-top: $space-4; // 32px

  // Override breadcrumb alignment for hero context
  .c-breadcrumb {
    @media (max-width: $breakpoint-lg - 1px) {
      // Center on mobile
      .c-breadcrumb__list {
        justify-content: center;
      }
    }

    @media (min-width: $breakpoint-lg) {
      // Left-align on desktop
      .c-breadcrumb__list {
        justify-content: flex-start;
      }
    }
  }
}

/* CTA Button Group
   ========================================================================== */

.c-hero-breadcrumb__cta-group {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem; // 16px horizontal gap (eval1.md spec)
  margin-top: 0; // Spacing handled by subtitle margin-bottom
  justify-content: center;

  @media (min-width: $breakpoint-lg) {
    justify-content: flex-start;
  }
}

.c-hero-breadcrumb__cta-button {
  // Fade-in-up animation with stagger
  animation: fadeInUp 0.6s ease-out backwards;

  &:nth-child(1) {
    animation-delay: 0s;
  }

  &:nth-child(2) {
    animation-delay: 0.1s;
  }

  &:nth-child(3) {
    animation-delay: 0.2s;
  }

  @media (prefers-reduced-motion: reduce) {
    animation: none;
  }
}

/* Media Column
   ========================================================================== */

.c-hero-breadcrumb__media {
  position: relative;
  min-height: 300px; // Accommodate compass size on mobile

  @media (min-width: $breakpoint-md) {
    min-height: 400px;
  }

  @media (min-width: $breakpoint-lg) {
    min-height: 500px; // ~500px diameter compass on desktop (eval1.md)
  }
}

/* Compass Wrapper (Redesign 2025)
   ========================================================================== */

.c-hero-breadcrumb__compass-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;

  // Compass animation atom provides its own sizing
  .c-compass-animation {
    width: 100%;
    max-width: 300px; // ~300px mobile (eval1.md spec)
    height: auto;

    @media (min-width: $breakpoint-md) {
      max-width: 400px; // ~400px tablet
    }

    @media (min-width: $breakpoint-lg) {
      max-width: 500px; // ~500px desktop (eval1.md spec)
    }
  }
}

/* Image Wrapper (contains blob, image, quote)
   ========================================================================== */

.c-hero-breadcrumb__image-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
}

/* Organic Blob Shape
   ========================================================================== */

.c-hero-breadcrumb__blob {
  // Redesign 2025: Completely removed blob gradient background
  // Clean cream background only (#F4F7F5) per eval1.md specifications
  display: none; // Remove blob element entirely for clean design
}

/* Hero Image
   ========================================================================== */

.c-hero-breadcrumb__image {
  position: relative;
  z-index: 1;
}

.c-hero-breadcrumb__img {
  width: 100%;
  height: auto;
  border-radius: 32px; // Organic soft border
  border: 4px solid $cream-200; // Redesign 2025: Subtle cream border
  box-shadow: $shadow-2xl;
  clip-path: ellipse(48% 48% at 50% 50%); // Subtle organic shape

  @media (min-width: $breakpoint-md) {
    clip-path: path('M 10 50 Q 10 10 50 10 T 90 50 T 50 90 T 10 50'); // More pronounced blob on larger screens
  }
}

/* Quote Box (overlapping image)
   ========================================================================== */

.c-hero-breadcrumb__quote-box {
  position: absolute;
  bottom: -10%; // Overlaps image by 20%
  left: 10%;
  right: 10%;
  z-index: 2;
  padding: $space-4; // 32px
  background: rgba($forest-900, 0.85); // Redesign 2025: Forest dark with glassmorphism
  backdrop-filter: blur(12px);
  border-radius: $border-radius-lg; // 16px
  box-shadow: $shadow-lg;

  @media (min-width: $breakpoint-md) {
    padding: $space-5; // 40px
    left: 5%;
    right: 5%;
  }

  @media (min-width: $breakpoint-lg) {
    bottom: -15%; // More overlap on desktop
    left: -10%; // Extend beyond image
    right: auto;
    max-width: 80%;
  }
}

.c-hero-breadcrumb__quote-icon {
  font-size: 24px;
  color: $gold-500; // Redesign 2025: Gold accent
  margin-bottom: $space-2; // 16px
  display: block;
}

.c-hero-breadcrumb__quote-text {
  margin: 0;
  font-family: $font-family-serif; // Playfair Display
  font-size: 18px;
  font-style: italic;
  line-height: 1.6;
  color: white;
}

.c-hero-breadcrumb__quote-author {
  margin: $space-2 0 0 0; // 16px top
  font-family: $font-family-sans;
  font-size: 14px;
  font-weight: $font-weight-medium;
  color: $cream-100; // Redesign 2025: Cream text
  opacity: 0.9;
}

/* Decorative Shapes
   ========================================================================== */

.c-hero-breadcrumb__shapes {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 200px;

  @media (min-width: $breakpoint-md) {
    min-height: 300px;
  }

  @media (min-width: $breakpoint-lg) {
    min-height: 400px;
  }
}

.c-hero-breadcrumb__shape {
  position: absolute;
  width: auto;
  height: auto;
  max-width: 60%;
  opacity: 0.1;
  pointer-events: none;

  @include transition-base;

  // Subtle float animation
  animation: float 6s ease-in-out infinite;

  @media (prefers-reduced-motion: reduce) {
    animation: none;
  }
}

.c-hero-breadcrumb__shape--1 {
  top: 10%;
  left: 10%;
  animation-delay: 0s;
}

.c-hero-breadcrumb__shape--2 {
  bottom: 10%;
  right: 10%;
  animation-delay: 3s;
}

/* Variant Modifiers
   ========================================================================== */

.c-hero-breadcrumb--primary {
  .c-hero-breadcrumb__subtitle {
    color: $forest-600; // Redesign 2025: Forest green
  }

  .c-hero-breadcrumb__shape {
    fill: $forest-500;
  }
}

.c-hero-breadcrumb--secondary {
  .c-hero-breadcrumb__subtitle {
    color: $sage-600; // Redesign 2025: Sage green
  }

  .c-hero-breadcrumb__shape {
    fill: $sage-500;
  }
}

.c-hero-breadcrumb--tertiary {
  .c-hero-breadcrumb__subtitle {
    color: $gold-600; // Redesign 2025: Gold
  }

  .c-hero-breadcrumb__shape {
    fill: $gold-500;
  }
}

.c-hero-breadcrumb--neutral {
  .c-hero-breadcrumb__subtitle {
    color: $cream-500; // Redesign 2025: Cream
  }

  .c-hero-breadcrumb__shape {
    fill: $cream-400;
  }
}

/* Animations
   ========================================================================== */

@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-20px);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes blob-morph {
  0%,
  100% {
    clip-path: path('M 0 50 Q 0 0 50 0 T 100 50 T 50 100 T 0 50');
  }
  25% {
    clip-path: path('M 0 50 Q 0 10 50 5 T 95 50 T 50 95 T 0 50');
  }
  50% {
    clip-path: path('M 5 50 Q 5 5 50 0 T 100 50 T 45 100 T 5 50');
  }
  75% {
    clip-path: path('M 0 50 Q 5 5 50 5 T 95 50 T 50 90 T 0 50');
  }
}

/* Accessibility
   ========================================================================== */

// High contrast mode support
@media (prefers-contrast: high) {
  .c-hero-breadcrumb__shape {
    opacity: 0.3; // More visible in high contrast
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .c-hero-breadcrumb__shape {
    animation: none;
  }
}

/* Print Styles
   ========================================================================== */

@media print {
  .c-hero-breadcrumb {
    padding: $space-4 0; // Reduce padding for print
    background: none; // Remove gradient
  }

  .c-hero-breadcrumb__shapes {
    display: none; // Hide decorative shapes
  }
}

/* Legacy Compatibility
   ========================================================================== */

// Map old .page-header class to new BEM component
.page-header {
  @extend .c-hero-breadcrumb;
  @extend .c-hero-breadcrumb--primary;
}
