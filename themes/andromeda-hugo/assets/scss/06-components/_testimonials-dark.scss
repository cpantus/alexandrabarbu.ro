// ==================================
// Testimonials Dark Section - BEM Component (Redesign 2025)
// ==================================
//
// Purpose: Client testimonials with dark forest green background
// Features: Gold icon, decorative dividers, 3-column grid, avatar circles, cream text
// Design: eval1.md Section 5 specifications
//
// Version: 1.1.0 - Redesign 2025 (aligned grid + footer-style avatars)
// Updated: 2025-11-26
//

// ============================================================================
// BLOCK: Testimonials Dark Section
// ============================================================================

.c-testimonials-dark {
  padding: $section-padding-y 0;
  background-color: #2F5548; // Dark forest green (darker than primary #234E3E)
  color: $cream-100; // Cream text (#F4F7F5)
}

// ============================================================================
// ELEMENT: Header (Centered with Icon and Dividers)
// ============================================================================

.c-testimonials-dark__header {
  max-width: 800px;
  margin: 0 auto $space-16; // 64px bottom margin
  text-align: center;
}

// ============================================================================
// ELEMENT: Section Icon (Quote Mark)
// ============================================================================

.c-testimonials-dark__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  margin: 0 auto $space-6; // 24px bottom margin
  font-size: $text-3xl; // 30px (normalized from 28px)

  // Icon color variants
  &--gold {
    color: $gold-500; // Gold/sand (#C5A880)
  }

  &--sage {
    color: $sage-500; // Sage green
  }
}

// ============================================================================
// ELEMENT: Decorative Divider (Thin Gold Lines)
// ============================================================================

.c-testimonials-dark__divider {
  width: 80px;
  height: 2px;
  margin: $space-4 auto; // 16px top/bottom, centered
  background-color: $gold-500; // Gold (#C5A880)
  opacity: 0.7;
}

// ============================================================================
// ELEMENT: Section Title
// ============================================================================

.c-testimonials-dark__title {
  font-family: $font-heading; // Playfair Display (serif)
  font-size: $font-size-4xl; // 42px
  font-weight: $weight-semibold; // 600
  color: $cream-100; // Cream (#F4F7F5)
  margin-bottom: 0;

  @media (max-width: $breakpoint-md-max) {
    font-size: $font-size-3xl; // 36px mobile
  }
}

// ============================================================================
// ELEMENT: Subtitle (Description below title)
// ============================================================================

.c-testimonials-dark__subtitle {
  font-family: $font-body; // DM Sans
  font-size: $text-base; // 16px
  font-weight: $weight-normal; // 400
  color: rgba($cream-100, 0.85); // Slightly muted cream
  max-width: 600px;
  margin: $space-4 auto 0; // 16px top, centered
  line-height: 1.6;
}

// ============================================================================
// ELEMENT: Testimonials Grid (3 Columns - ALIGNED)
// ============================================================================

.c-testimonials-dark__grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: $grid-gap; // 32px
  align-items: start; // All items align to top

  // Tablet: 2 columns
  @media (max-width: $breakpoint-lg-max) {
    grid-template-columns: repeat(2, 1fr);
  }

  // Mobile: 1 column
  @media (max-width: $breakpoint-md-max) {
    grid-template-columns: 1fr;
    gap: $space-10; // 40px vertical gap
  }
}

// ============================================================================
// ELEMENT: Testimonial Item (NO stagger - clean alignment)
// ============================================================================

.c-testimonials-dark__item {
  text-align: center;
  padding: 0 $space-4; // 16px horizontal padding for breathing room

  @media (max-width: $breakpoint-md-max) {
    padding: 0;
  }
}

// ============================================================================
// ELEMENT: Avatar Circle (Footer social icon style - 48px with 1px border)
// ============================================================================

.c-testimonials-dark__avatar {
  // Size matches footer social icons
  width: 48px;
  height: 48px;
  margin: 0 auto $space-3; // 12px bottom margin, centered

  // Flexbox centering
  display: inline-flex;
  align-items: center;
  justify-content: center;

  // Visual styling - matches footer social icons
  background: transparent;
  border: 1px solid rgba($cream-100, 0.5); // Thin border like footer icons
  border-radius: $radius-full; // Perfect circle

  // Transition for hover effect
  transition:
    border-color $duration-base $easing-out,
    transform $duration-base $easing-out;

  span {
    font-family: $font-body; // DM Sans
    font-size: $text-base; // 16px
    font-weight: $weight-semibold; // 600
    color: $cream-100; // Cream text
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: color $duration-base $easing-out;
  }

  // Hover effect triggered by parent item hover
  .c-testimonials-dark__item:hover & {
    border-color: $gold-500;
    transform: scale(1.1);

    span {
      color: $gold-500;
    }
  }
}

// ============================================================================
// ELEMENT: Quote Text
// ============================================================================

.c-testimonials-dark__quote {
  font-family: $font-heading; // Playfair Display (serif)
  font-size: $text-lg; // 18px (per spec: 18-20px range)
  font-style: italic;
  font-weight: $weight-normal; // 400
  line-height: 1.7; // Good readability
  color: $cream-100; // Cream (#F4F7F5)
  margin: $space-4 0 0 0; // 16px top margin (after divider), no bottom

  // Remove default blockquote styling
  padding: 0;
  border: none;

  @media (min-width: 992px) {
    font-size: $text-xl; // 20px on desktop
  }
}

// ============================================================================
// ELEMENT: Author Info
// ============================================================================

.c-testimonials-dark__author {
  margin-top: 0;
  margin-bottom: $space-4; // 16px bottom margin before divider
}

.c-testimonials-dark__name {
  font-family: $font-body; // DM Sans (sans-serif)
  font-size: $font-size-base; // 16px
  font-weight: $weight-semibold; // 600
  color: $color-gold-500; // Gold accent
  text-transform: uppercase;
  letter-spacing: 0.1em; // Tracking-wide
  margin-bottom: $space-1; // 4px
}

.c-testimonials-dark__role {
  font-family: $font-body; // DM Sans
  font-size: $text-sm; // 14px per spec
  font-weight: $weight-normal; // 400
  color: rgba($cream-100, 0.7); // 70% opacity cream
  margin: 0;
}

// ============================================================================
// RESPONSIVE ADJUSTMENTS
// ============================================================================

@media (max-width: $breakpoint-lg-max) {
  .c-testimonials-dark {
    padding: $section-padding-y-mobile 0; // 64px vertical (mobile padding)
  }
}

@media (max-width: $breakpoint-md-max) {
  .c-testimonials-dark {
    padding: $space-16 0; // 64px vertical
  }

  .c-testimonials-dark__quote {
    font-size: $text-lg; // 18px (normalized from 17px)
  }
}

// ============================================================================
// ACCESSIBILITY
// ============================================================================

// Ensure sufficient contrast (WCAG AA: 4.5:1 for text)
// Dark forest green #2F5548 + Cream #F4F7F5 = ~11:1 contrast ratio

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .c-testimonials-dark__avatar {
    transition: none;
  }
}

// Print styles
@media print {
  .c-testimonials-dark {
    background-color: transparent;
    color: #000;
    padding: $space-8 0;
  }

  .c-testimonials-dark__icon,
  .c-testimonials-dark__divider {
    display: none;
  }

  .c-testimonials-dark__title,
  .c-testimonials-dark__quote,
  .c-testimonials-dark__name {
    color: #000;
  }

  .c-testimonials-dark__role {
    color: #555;
  }
}
