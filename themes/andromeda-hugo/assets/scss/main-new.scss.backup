/*
========================================================================
  MAIN ENTRY POINT - ITCSS Architecture v2.0.0
  Andromeda Hugo Theme - Phase 1 Foundation
========================================================================

  Purpose: New ITCSS-compliant entry point for Phase 1 testing
  Status: DEVELOPMENT (parallel with custom.scss)
  Phase: 1 - Foundation Consolidation

  Architecture: 7-layer ITCSS (Inverted Triangle CSS)
  Philosophy: Progressive specificity, layer isolation

  Last Updated: 2025-11-19
  ITCSS Layers: Settings → Tools → Generic → Elements → Objects → Components → Utilities

========================================================================
*/

// ==================================
// LAYER 0: CONFIG BRIDGE (Hugo → SCSS)
// ==================================
// Purpose: Inject design.toml values into SCSS variables at build time
// Process: Hugo ExecuteAsTemplate converts template syntax to values before SCSS compilation
// MUST come FIRST before all other layers
//
// This file (main-new.scss) is processed by Hugo Pipes.
// The Hugo template syntax below is replaced with actual values from
// config/_default/design.toml at BUILD TIME before SCSS compilation.
//
// DO NOT edit this section to change design tokens. Edit config/_default/design.toml
//
// ============================================================================

// ============================================================================
// BRAND COLORS
// ============================================================================
{{- with site.Params.design.brand }}
$color-primary: {{ .primary | default "#234E3E" }};
$color-secondary: {{ .secondary | default "#6B9080" }};
$color-accent: {{ .accent | default "#D4AF37" }};
$color-success: {{ .success | default "#10B981" }};
$color-warning: {{ .warning | default "#F59E0B" }};
$color-error: {{ .error | default "#EF4444" }};
{{- end }}

// ============================================================================
// TYPOGRAPHY
// ============================================================================
{{- with site.Params.design.typography }}
$font-heading: {{ .heading_font | default "Playfair Display" }}, serif;
$font-body: {{ .body_font | default "DM Sans" }}, sans-serif;
$font-weight-heading: {{ .heading_weight | default "700" }};
$font-weight-body: {{ .body_weight | default "400" }};
$font-size-base: {{ .base_size | default "16px" }};
$font-scale: {{ .scale | default "1.25" }};
$line-height-body: {{ .line_height_body | default "1.6" }};
$line-height-heading: {{ .line_height_heading | default "1.2" }};
{{- end }}

// ============================================================================
// TEXT COLORS
// ============================================================================
{{- with site.Params.design.colors.text }}
$text-primary: {{ .primary | default "#374151" }};
$text-secondary: {{ .secondary | default "#6B7280" }};
$text-muted: {{ .muted | default "#9CA3AF" }};
$text-inverted: {{ .inverted | default "#FFFFFF" }};
{{- end }}

// ============================================================================
// SPACING SYSTEM
// ============================================================================
{{- with site.Params.design.spacing }}
$spacing-base: {{ .base | default "8px" }};
$spacing-scale: {{ .scale | default "1.5" }};
$section-padding-desktop: {{ .section_padding_desktop | default "80px" }};
$section-padding-mobile: {{ .section_padding_mobile | default "48px" }};
$container-max-width: {{ .container_max_width | default "1200px" }};
$container-padding: {{ .container_padding | default "16px" }};
{{- end }}

// ============================================================================
// BORDERS
// ============================================================================
{{- with site.Params.design.borders }}
$border-width: {{ .width | default "1px" }};
$border-focus-width: {{ .focus_width | default "2px" }};
$border-radius-sm: {{ .radius_sm | default "4px" }};
$border-radius-md: {{ .radius_md | default "8px" }};
$border-radius-lg: {{ .radius_lg | default "16px" }};
$border-radius-full: {{ .radius_full | default "9999px" }};
$border-color: {{ .color | default "#E5E7EB" }};
{{- end }}

// ============================================================================
// SHADOWS
// ============================================================================
{{- with site.Params.design.shadows }}
$shadow-sm: {{ .sm | default "0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)" }};
$shadow-md: {{ .md | default "0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)" }};
$shadow-lg: {{ .lg | default "0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)" }};
$shadow-xl: {{ .xl | default "0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)" }};
{{- end }}

// ============================================================================
// BACKGROUNDS
// ============================================================================
{{- with site.Params.design.backgrounds }}
$enable-gradients: {{ .enable_gradients | default true }};
$gradient-type: {{ .gradient_type | default "linear" }};
$gradient-angle: {{ .gradient_angle | default "135deg" }};
$gradient-start-opacity: {{ .gradient_start_opacity | default "0.9" }};
$gradient-end-opacity: {{ .gradient_end_opacity | default "0.7" }};
$enable-glassmorphism: {{ .enable_glassmorphism | default true }};
$glassmorphism-blur: {{ .glassmorphism_blur | default "12px" }};
$glassmorphism-opacity: {{ .glassmorphism_opacity | default "0.8" }};
$overlay-opacity: {{ .overlay_opacity | default "0.4" }};
{{- end }}

// ============================================================================
// ANIMATIONS
// ============================================================================
{{- with site.Params.design.animations }}
$animation-speed-multiplier: {{ .speed_multiplier | default "1.0" }};
$animation-easing: {{ .easing | default "ease-in-out" }};
$enable-scroll-animations: {{ .enable_scroll_animations | default true }};
$enable-hover-animations: {{ .enable_hover_animations | default true }};
$enable-parallax: {{ .enable_parallax | default true }};
$parallax-strength: {{ .parallax_strength | default "0.5" }};
$enable-entrance-animations: {{ .enable_entrance_animations | default true }};
{{- end }}

// ============================================================================
// COMPONENT: BUTTONS
// ============================================================================
{{- with site.Params.design.components.buttons }}
$button-padding-horizontal: {{ .padding_horizontal | default "24px" }};
$button-padding-vertical: {{ .padding_vertical | default "12px" }};
$button-font-size: {{ .font_size | default "16px" }};
$button-font-weight: {{ .font_weight | default "600" }};
$button-border-radius: {{ .border_radius | default "8px" }};
$button-hover-lift: {{ .hover_lift | default "2px" }};
$button-transition: {{ .transition | default "0.2s" }};
$button-text-transform: {{ .text_transform | default "none" }};
{{- end }}

// ============================================================================
// COMPONENT: CARDS
// ============================================================================
{{- with site.Params.design.components.cards }}
$card-background: {{ .background | default "#FFFFFF" }};
$card-border-width: {{ .border_width | default "1px" }};
$card-border-color: {{ .border_color | default "#E5E7EB" }};
$card-border-radius: {{ .border_radius | default "12px" }};
$card-padding: {{ .padding | default "24px" }};
$card-hover-effect: {{ .hover_effect | default "lift" }};
$card-hover-lift: {{ .hover_lift | default "4px" }};
{{- end }}

// ============================================================================
// COMPONENT: NAVIGATION
// ============================================================================
{{- with site.Params.design.components.navigation }}
$nav-height: {{ .height | default "72px" }};
$nav-background: {{ .background | default "#FFFFFF" }};
$nav-backdrop-blur: {{ .backdrop_blur | default true }};
$nav-link-color: {{ .link_color | default "#374151" }};
$nav-link-hover-color: {{ .link_hover_color | default "#234E3E" }};
$nav-mobile-menu-background: {{ .mobile_menu_background | default "#FFFFFF" }};
{{- end }}

// ============================================================================
// COMPONENT: FORMS
// ============================================================================
{{- with site.Params.design.components.forms }}
$input-background: {{ .input_background | default "#FFFFFF" }};
$input-border-color: {{ .input_border_color | default "#D1D5DB" }};
$input-border-width: {{ .input_border_width | default "1px" }};
$input-border-radius: {{ .input_border_radius | default "8px" }};
$input-padding: {{ .input_padding | default "12px 16px" }};
$input-focus-border-color: {{ .input_focus_border_color | default "#234E3E" }};
$input-font-size: {{ .input_font_size | default "16px" }};
{{- end }}

// ============================================================================
// COMPONENT: ICONS
// ============================================================================
{{- with site.Params.design.components.icons }}
$icon-size-sm: {{ .size_sm | default "16px" }};
$icon-size-md: {{ .size_md | default "24px" }};
$icon-size-lg: {{ .size_lg | default "32px" }};
$icon-default-color: {{ .default_color | default "#234E3E" }};
{{- end }}

// ============================================================================
// COMPONENT: BADGES
// ============================================================================
{{- with site.Params.design.components.badges }}
$badge-padding: {{ .padding | default "4px 12px" }};
$badge-border-radius: {{ .border_radius | default "16px" }};
$badge-font-size: {{ .font_size | default "14px" }};
$badge-font-weight: {{ .font_weight | default "500" }};
{{- end }}

// ============================================================================
// COMPONENT: HERO
// ============================================================================
{{- with site.Params.design.components.hero }}
$hero-min-height-desktop: {{ .min_height_desktop | default "600px" }};
$hero-min-height-mobile: {{ .min_height_mobile | default "400px" }};
$hero-text-align: {{ .text_align | default "center" }};
$hero-overlay-opacity: {{ .overlay_opacity | default "0.5" }};
{{- end }}

// ============================================================================
// COMPONENT: FOOTER
// ============================================================================
{{- with site.Params.design.components.footer }}
$footer-background: {{ .background | default "#1F2937" }};
$footer-text-color: {{ .text_color | default "#D1D5DB" }};
$footer-padding-top: {{ .padding_top | default "64px" }};
$footer-padding-bottom: {{ .padding_bottom | default "32px" }};
{{- end }}

// ============================================================================
// ACCESSIBILITY
// ============================================================================
{{- with site.Params.design.accessibility }}
$min-contrast-ratio: {{ .min_contrast_ratio | default "4.5" }};
$focus-ring-color: {{ .focus_ring_color | default "#234E3E" }};
$focus-ring-width: {{ .focus_ring_width | default "2px" }};
$focus-ring-offset: {{ .focus_ring_offset | default "2px" }};
$respect-reduced-motion: {{ .respect_reduced_motion | default true }};
{{- end }}

// ============================================================================
// PERFORMANCE
// ============================================================================
{{- with site.Params.design.performance }}
$enable-css-variables: {{ .enable_css_variables | default true }};
$enable-gpu-acceleration: {{ .enable_gpu_acceleration | default true }};
{{- end }}

// ============================================================================
// COMPUTED VALUES (Derived from base tokens)
// ============================================================================

// Font sizes (using modular scale)
$font-size-xs: calc(#{$font-size-base} / #{$font-scale});
$font-size-sm: calc(#{$font-size-base} / #{$font-scale} * 0.875);
$font-size-md: $font-size-base;
$font-size-lg: calc(#{$font-size-base} * #{$font-scale});
$font-size-xl: calc(#{$font-size-base} * #{$font-scale} * #{$font-scale});
$font-size-2xl: calc(#{$font-size-base} * #{$font-scale} * #{$font-scale} * #{$font-scale});
$font-size-3xl: calc(#{$font-size-base} * #{$font-scale} * #{$font-scale} * #{$font-scale} * #{$font-scale});

// Spacing scale (using spacing base)
$spacing-xs: calc(#{$spacing-base} * 0.5);
$spacing-sm: $spacing-base;
$spacing-md: calc(#{$spacing-base} * #{$spacing-scale});
$spacing-lg: calc(#{$spacing-base} * #{$spacing-scale} * #{$spacing-scale});
$spacing-xl: calc(#{$spacing-base} * #{$spacing-scale} * #{$spacing-scale} * #{$spacing-scale});
$spacing-2xl: calc(#{$spacing-base} * #{$spacing-scale} * #{$spacing-scale} * #{$spacing-scale} * #{$spacing-scale});
$spacing-3xl: calc(#{$spacing-base} * #{$spacing-scale} * #{$spacing-scale} * #{$spacing-scale} * #{$spacing-scale} * #{$spacing-scale});

// Animation durations (using speed multiplier)
$duration-fast: calc(150ms * #{$animation-speed-multiplier});
$duration-normal: calc(300ms * #{$animation-speed-multiplier});
$duration-slow: calc(500ms * #{$animation-speed-multiplier});
$duration-slower: calc(800ms * #{$animation-speed-multiplier});

// ============================================================================
// END CONFIG BRIDGE
// ============================================================================

// ==================================
// LAYER 1: SETTINGS (Design Tokens)
// ==================================
// Purpose: Sass variables only, NO CSS output
// Replaces: _design-tokens.scss (consolidated into 5 files)
//
@import '01-settings/settings';

// ==================================
// LAYER 2: TOOLS (Mixins & Functions)
// ==================================
// Purpose: Mixins and functions only, NO CSS output
// Phase 2: Includes color functions, card mixins, icon mixins
//
@import '02-tools/tools';

// ==================================
// LAYER 3: GENERIC (Resets & CSS Variables)
// ==================================
// Purpose: CSS resets, normalization, CSS custom properties
// Phase 2: CSS custom properties (:root) for runtime theming
//
@import '03-generic/generic';

// ==================================
// ✅ PHASE 8 CLEANUP: Removed design-enhancements.scss
// ==================================
// All content migrated to proper ITCSS layers:
// - Gradients → 01-settings/_tokens-gradients.scss
// - Shadows → 01-settings/_tokens-shadows.scss
// - Component tokens → 01-settings/_tokens-components.scss
// - Glassmorphism mixin → 02-tools/_mixins-glassmorphism.scss
// - Keyframe animations → Preserved in file (will migrate in future phase)

// ==================================
// LAYER 4: ELEMENTS (HTML Elements)
// ==================================
// Purpose: Bare HTML element styling (h1-h6, p, a, ul, etc.)
// Phase 1: ✅ COMPLETE - Moved from temporary styles below
//
@import '04-elements/elements';

// ==================================
// LAYER 5: OBJECTS (Layout Primitives)
// ==================================
// Purpose: Reusable layout patterns (.o-* prefix)
// Phase 3: Container, grid, flex, stack patterns
//
@import '05-objects/objects';

// ==================================
// LAYER 6: COMPONENTS (UI Components)
// ==================================
// Purpose: UI components with BEM naming (.c-* prefix)
// Phase 3: Card component refactored to BEM with legacy compatibility
//
@import '06-components/components';

// ✅ PHASE 6 CLEANUP: All components now in 06-components/_components.scss
// Legacy imports removed (BEM versions already imported):
// - components/headings → 06-components/_heading.scss (line 26 in _components.scss)
// - components/contact-form-enhanced → 06-components/_contact-form-enhanced.scss (line 71 in _components.scss)

// ==================================
// LAYER 7: UTILITIES
// ==================================
// Purpose: Utility classes with highest specificity (.u-* prefix)
// Utilities: container, grid, spacing, text, display, flexbox
// Phase 3: ✅ COMPLETE - Provides missing layout/typography utilities
//
@import '07-utilities/utilities';

// ✅ PHASE 6 CLEANUP: Legacy systems/ directory removed
// Nuclear border reset no longer needed (migrated to 04-elements/ or removed)

// ==================================
// ✅ BASE STYLES MOVED TO 04-ELEMENTS
// ==================================
// Previously temporary styles (body, h1-h6) now in proper ITCSS layer:
// - 04-elements/_page.scss (body, html, box-sizing)
// - 04-elements/_headings.scss (h1-h6, .h1-.h6)
// - 04-elements/_text.scss (p, a, ul, ol, blockquote)

// ==================================
// END OF MAIN ENTRY POINT
// ==================================
// Phase 1 Status: Foundation consolidation complete
// Next: Phase 2 - System layer refactoring
//
// Validation:
// - Build succeeds: hugo --gc --minify
// - Visual regression: Screenshot comparison
// - CSS output: Should match custom.scss output
