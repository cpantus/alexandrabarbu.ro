// ==========================================================================
// Collapse Utilities - Object Layer
// ==========================================================================
//
// Purpose: Reusable collapse/expand animation utilities for vanilla-collapse.js
//
// Classes:
//   .collapse - Hidden state (max-height: 0, overflow hidden)
//   .collapse.show - Visible state (max-height: large value)
//
// Usage:
//   Works with vanilla-collapse.js for smooth accordion/dropdown animations
//   Apply to any collapsible content container
//
// Dependencies:
//   - 01-settings/_tokens-motion.scss (transition timing)
//   - vanilla-collapse.js (JavaScript controller)
//
// ITCSS Layer: Objects (layout primitives, no cosmetics)
//
// Version: 2.0.0
// Created: 2025-11-21
// ==========================================================================

// Collapse elements - accordion/FAQ only, not navigation
.c-accordion__panel.collapse,
.c-service-faq__answer.collapse,
.c-methods-used__method-content.collapse,
.accordion-collapse.collapse {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.35s ease-in-out, opacity 0.35s ease-in-out;
  opacity: 0;

  // When shown, content is visible
  &.show {
    max-height: 500px; // Smaller value for smoother animation
    opacity: 1;
    overflow: hidden; // Keep hidden during animation to prevent overlap
    transition: max-height 0.35s ease-in-out, opacity 0.35s ease-in-out;
  }
}

// Reduced motion support (accessibility)
@media (prefers-reduced-motion: reduce) {
  .c-accordion__panel.collapse,
  .c-service-faq__answer.collapse,
  .c-methods-used__method-content.collapse,
  .accordion-collapse.collapse {
    transition: none;
  }
}

// ==========================================================================
// USAGE EXAMPLES
// ==========================================================================
//
// Basic collapsible content:
//   <div class="collapse">Content here</div>
//
// Initially expanded:
//   <div class="collapse show">Content here</div>
//
// JavaScript handles state transitions:
//   1. User clicks trigger
//   2. JS adds "collapsing" class, sets explicit height
//   3. After transition, JS adds "show" class, removes "collapsing"
//   4. To collapse: reverse process
//
// See: themes/andromeda-hugo/assets/js/vanilla-collapse.js
// ==========================================================================
