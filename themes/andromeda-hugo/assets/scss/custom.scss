/*
========================================================================
  Custom SCSS - Modern Healing Design System v2.0
  Elevated Design Excellence for Therapy Practice
========================================================================
*/

// Import comprehensive design system
@import 'design-system';

// Import creative design enhancements
@import 'design-enhancements';

// Import component-specific styles
@import 'components/credentials';
@import 'components/values-compass';
@import 'components/stats-enhanced';
@import 'components/feature-blocks-enhanced';
@import 'components/pricing-enhanced';
@import 'components/problem-empathy';

/*------------------------------------------------------------------
  # Global Base Styles - Typography & Layout
-------------------------------------------------------------------*/

body {
  font-family: $font-body;
  font-size: $text-base;
  line-height: $leading-normal;
  color: $color-text-primary;
  font-weight: $weight-normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Headings use elegant serif
h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
  font-family: $font-display;
  font-weight: $weight-semibold;
  line-height: $leading-tight;
  color: $color-text-primary;
  margin-bottom: $space-4;
}

// Hero typography (distinctive sizing ≥100px equivalent on desktop)
h1, .h1 {
  @include fluid-type($text-4xl, $text-hero);
  font-weight: $weight-bold;
}

h2, .h2 {
  @include fluid-type($text-3xl, $text-5xl);
}

h3, .h3 {
  @include fluid-type($text-2xl, $text-4xl);
}

h4, .h4 {
  font-size: $text-2xl;
}

h5, .h5 {
  font-size: $text-xl;
}

h6, .h6 {
  font-size: $text-lg;
}

// Paragraphs
p {
  margin-bottom: $space-4;
  line-height: $leading-relaxed;
  color: $color-text-secondary;
}

// Links
a {
  color: $color-primary;
  text-decoration: none;
  transition: $transition-colors;

  &:hover {
    color: $color-primary-dark;
  }
}

// Strong & emphasis
strong, b {
  font-weight: $weight-bold;
  color: $color-text-primary;
}

em, i {
  font-style: italic;
  color: $color-text-secondary;
}

/*------------------------------------------------------------------
  # Accessibility Utilities - WCAG 2.1 AA Compliance
-------------------------------------------------------------------*/

// Skip to content link (keyboard navigation)
.skip-to-content {
  position: absolute;
  top: -40px;
  left: 0;
  background: $color-primary;
  color: white;
  padding: 0.75rem 1.5rem;
  text-decoration: none;
  font-weight: $weight-semibold;
  border-radius: 0 0 0.375rem 0;
  z-index: 10000;
  transition: top 0.2s ease;

  &:focus,
  &.visually-hidden-focusable:focus {
    top: 0;
    outline: 3px solid $color-secondary;
    outline-offset: 2px;
  }

  &:hover {
    background: $color-primary-dark;
    color: white;
  }
}

// Screen reader only text
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// Focus visible enhancement
*:focus-visible {
  outline: 2px solid $color-primary;
  outline-offset: 2px;
  border-radius: 0.25rem;
}

// Minimum 44px touch targets on mobile (WCAG 2.1 AA)
@media (max-width: 768px) {
  // Buttons minimum touch target
  .btn,
  button,
  [type="button"],
  [type="submit"],
  [type="reset"] {
    min-height: 44px;
    min-width: 44px;
    padding: 0.75rem 1.5rem;
  }

  // Links minimum touch target
  a:not(.btn) {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    padding: 0.375rem 0;
  }

  // Form inputs minimum touch target
  input,
  select,
  textarea {
    min-height: 44px;
    font-size: 16px; // Prevents zoom on iOS
  }

  // Navigation links
  .navbar-nav .nav-link {
    min-height: 44px;
    display: flex;
    align-items: center;
    padding: 0.75rem 1rem;
  }

  // Icon buttons
  .navbar-toggler,
  .btn-icon,
  [class*="icon-"] {
    min-height: 44px;
    min-width: 44px;
    padding: 0.5rem;
  }

  // Language selector
  .language-selector a {
    min-height: 44px;
    min-width: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
  }
}

/*------------------------------------------------------------------
  # Enhanced Button System - Modern, Distinctive
-------------------------------------------------------------------*/

// Base button enhancements
.btn {
  font-family: $font-body;
  font-weight: $button-font-weight;
  border-radius: $button-border-radius;
  padding: $button-padding-y $button-padding-x;
  transition: $button-transition;
  border: 0;
  position: relative;
  overflow: hidden;

  // Hover lift effect
  &:hover {
    transform: translateY(-2px);
  }

  &:active {
    transform: translateY(0);
  }
}

// Primary button - gradient with depth
.btn-primary {
  background: $gradient-primary;
  color: white;
  box-shadow: $shadow-primary;

  &:hover, &:active, &:focus {
    background: $gradient-primary-vibrant;
    box-shadow: $shadow-primary-lg;
    color: white;
  }
}

// Secondary button - warm terracotta gradient
.btn-secondary {
  background: $gradient-secondary;
  color: white;
  box-shadow: $shadow-secondary;

  &:hover, &:active, &:focus {
    background: $gradient-secondary-vibrant;
    box-shadow: $shadow-secondary-lg;
    color: white;
  }
}

// Outline buttons - elegant borders
.btn-outline-primary {
  color: $color-primary;
  border: 2px solid $color-primary;
  background-color: transparent;

  &:hover, &:active, &:focus {
    color: white;
    border-color: $color-primary;
    background: $gradient-primary;
    box-shadow: $shadow-primary;
  }
}

.btn-outline-secondary {
  color: $color-secondary;
  border: 2px solid $color-secondary;
  background-color: transparent;

  &:hover, &:active, &:focus {
    color: white;
    border-color: $color-secondary;
    background: $gradient-secondary;
    box-shadow: $shadow-secondary;
  }
}

// Button sizes
.btn-sm {
  padding: $space-2 $space-4;
  font-size: $text-sm;
}

.btn-lg {
  padding: $space-4 $space-8;
  font-size: $text-lg;
}

/*------------------------------------------------------------------
  # Enhanced Card System - Layered Depth
-------------------------------------------------------------------*/

.card {
  border-radius: $card-border-radius;
  border: 1px solid $gray-200;
  box-shadow: $card-shadow;
  transition: $card-transition;
  overflow: hidden;
  background: $color-bg-primary;

  // Hover lift with enhanced shadow
  &:hover {
    transform: translateY(-4px);
    box-shadow: $card-shadow-hover;
    border-color: $gray-300;
  }

  // Card with layered background
  &.card-layered {
    @include layered-background(
      $gradient-light,
      radial-gradient(circle at top right, $green-100, transparent),
      radial-gradient(circle at bottom left, $terracotta-50, transparent)
    );
  }

  // Card with gradient background
  &.card-gradient-primary {
    background: $gradient-primary-subtle;
    border-color: $green-200;
  }

  &.card-gradient-secondary {
    background: $gradient-secondary-subtle;
    border-color: $terracotta-200;
  }
}

.card-body {
  padding: $card-padding;
}

.card-title {
  font-family: $font-display;
  font-weight: $weight-semibold;
  font-size: $text-2xl;
  margin-bottom: $space-3;
  color: $color-text-primary;
}

.card-text {
  color: $color-text-secondary;
  line-height: $leading-relaxed;
}

/*------------------------------------------------------------------
  # Form Elements - Modern, Accessible
-------------------------------------------------------------------*/

.form-control, .form-select {
  font-family: $font-body;
  border-radius: $input-border-radius;
  border: 2px solid $input-border-color;
  padding: $input-padding-y $input-padding-x;
  transition: $input-transition;
  font-size: $text-base;

  &:focus {
    border-color: $input-focus-border-color;
    box-shadow: $input-focus-shadow;
    background-color: $green-50;
    outline: none;
  }

  &::placeholder {
    color: $color-text-subtle;
  }
}

.form-label {
  font-weight: $weight-medium;
  color: $color-text-primary;
  margin-bottom: $space-2;
  font-size: $text-sm;
}

// Checkbox and radio with modern styling
.form-check-input {
  border: 2px solid $gray-300;
  border-radius: $radius-sm;

  &:checked {
    background-color: $color-primary;
    border-color: $color-primary;
    box-shadow: $shadow-primary;
  }

  &:focus {
    box-shadow: $focus-ring;
    border-color: $color-primary;
  }
}

/*------------------------------------------------------------------
  # Feature Cards & Interactive Elements
-------------------------------------------------------------------*/

// Feature cards with alternating accents
.features .card,
.career-benefits-item {
  @include hover-lift();

  // Alternating color accents
  &:nth-child(3n+1) {
    border-top: 4px solid $color-primary;

    .icon, i {
      color: $color-primary;
    }
  }

  &:nth-child(3n+2) {
    border-top: 4px solid $color-secondary;

    .icon, i {
      color: $color-secondary;
    }
  }

  &:nth-child(3n+3) {
    border-top: 4px solid $green-600;

    .icon, i {
      color: $green-600;
    }
  }

  &:hover {
    border-top-width: 6px;
  }
}

// Icons with size variants
.icon, i[class*="la-"] {
  transition: $transition-transform;

  &.icon-lg {
    font-size: $text-5xl;
  }

  &.icon-xl {
    font-size: $text-6xl;
  }

  &:hover {
    transform: scale(1.1) rotate(5deg);
  }
}

/*------------------------------------------------------------------
  # Typography & Text Accents
-------------------------------------------------------------------*/

// Secondary color text utility
.text-secondary {
  color: $color-secondary !important;
}

// Highlighted text within content
.highlight-secondary {
  color: $color-secondary;
  font-weight: 600;
}

// Section subtitles with secondary color
.section-subtitle {
  color: $color-secondary;
  font-weight: 500;
}

/*------------------------------------------------------------------
  # Navigation & Links
-------------------------------------------------------------------*/

// Navigation active states
.navbar-nav .nav-link {
  &:hover, &:focus {
    color: $color-secondary !important;
  }
  
  &.active {
    color: $color-secondary !important;
    font-weight: 500;
  }
}

// Content links with secondary color
.content a {
  color: $color-secondary;
  text-decoration: none;
  transition: all 0.2s ease;
  
  &:hover {
    color: darken($color-secondary, 10%);
    text-decoration: underline;
  }
}

/*------------------------------------------------------------------
  # Form Elements & Interactive States
-------------------------------------------------------------------*/

// Form focus states with secondary color
.form-control {
  &:focus {
    border-color: $color-secondary;
    box-shadow: 0 0 0 0.2rem rgba($color-secondary, 0.25);
  }
}

// Checkbox and radio focus states
.form-check-input {
  &:checked {
    background-color: $color-secondary;
    border-color: $color-secondary;
  }
  
  &:focus {
    box-shadow: 0 0 0 0.25rem rgba($color-secondary, 0.25);
  }
}

/*------------------------------------------------------------------
  # Background & Border Utilities
-------------------------------------------------------------------*/

// Secondary background utility
.bg-secondary {
  background-color: $color-secondary !important;
}

// Secondary border utility  
.border-secondary {
  border-color: $color-secondary !important;
}

// Gradient backgrounds for hero sections
.bg-gradient-secondary {
  background: linear-gradient(135deg, $color-primary 0%, $color-secondary 100%);
}

/*------------------------------------------------------------------
  # Therapy-Specific Enhancements
-------------------------------------------------------------------*/

// Assessment test cards with secondary accents
.test-card {
  transition: all 0.3s ease;
  
  &:hover {
    border-color: $color-secondary;
    box-shadow: 0 4px 15px rgba($color-secondary, 0.15);
  }
  
  .test-icon {
    color: $color-secondary;
  }
}

// Therapy service highlights
.service-highlight {
  border-left: 4px solid $color-secondary;
  padding-left: 1rem;
  
  .service-title {
    color: $color-secondary;
  }
}

// Progress indicators and status elements
.progress-bar {
  background-color: $color-secondary;
}

.badge-secondary {
  background-color: $color-secondary;
  color: $white;
}

/*------------------------------------------------------------------
  # Hover Effects & Micro-interactions
-------------------------------------------------------------------*/

// Card hover effects with secondary color hints
.card {
  transition: all 0.3s ease;
  
  &:hover {
    .card-title {
      color: $color-secondary;
    }
  }
}

// Icon hover effects
.icon-hover {
  transition: color 0.2s ease;
  
  &:hover {
    color: $color-secondary !important;
  }
}

// Button group with mixed primary/secondary
.btn-group-mixed {
  .btn:nth-child(even) {
    background-color: $color-secondary;
    border-color: $color-secondary;
  }
}

/*------------------------------------------------------------------
  # Progress Bars & Loading Elements Override
-------------------------------------------------------------------*/

// Override any progress bars to use our emerald green
.progress-bar,
.progress .progress-bar,
.progress-bar-striped,
.progress-bar-animated {
  background-color: #059669 !important; // Our emerald green
}

// Preloader and loading elements
.preloader,
.loader,
.loading,
.spinner {
  .progress-bar,
  .progress,
  [class*="progress"] {
    background-color: #059669 !important;
    border-color: #059669 !important;
  }
}

// Override hardcoded orange in team images and similar elements
.team-image::before,
.team-member::before,
[class*="team"]::before {
  background: #059669 !important; // Replace hardcoded orange with emerald
  opacity: 0.15;
}

// Generic loaders and spinners
.la-spin,
.spinner-border,
.spinner-grow,
[class*="spin"],
[class*="loader"] {
  color: #059669 !important;
  border-color: #059669 !important;
  background-color: #059669 !important;
}

// Bootstrap progress components
.progress {
  .progress-bar {
    background-color: #059669 !important;
  }
  
  .progress-bar-secondary {
    background-color: #CC6B49 !important; // Terracotta
  }
}

// Any remaining orange elements - catch-all
[style*="#FE6019"],
[style*="#fe6019"],
[style*="rgb(254, 96, 25)"] {
  background-color: #059669 !important;
  border-color: #059669 !important;
  color: #059669 !important;
}

/*------------------------------------------------------------------
  # SVG Elements & Graphics Override
-------------------------------------------------------------------*/

// Override SVG fill and stroke colors
svg [fill*="#FE6019"],
svg [fill*="#fe6019"],
svg [fill*="rgb(254, 96, 25)"],
svg [fill*="254 96 25"] {
  fill: #059669 !important; // Our emerald green
}

svg [stroke*="#FE6019"],
svg [stroke*="#fe6019"], 
svg [stroke*="rgb(254, 96, 25)"],
svg [stroke*="254 96 25"] {
  stroke: #059669 !important; // Our emerald green
}

// Generic SVG color overrides
svg circle[stroke*="#FE6019"],
svg circle[stroke*="#fe6019"],
svg circle[fill*="#FE6019"],
svg circle[fill*="#fe6019"] {
  stroke: #059669 !important;
  fill: #059669 !important;
}

// Progress circle specific overrides
.progress-circle,
circle.progress,
[class*="progress"] circle,
[class*="loader"] circle,
.loading circle {
  stroke: #059669 !important;
  fill: none !important;
  stroke-width: 3 !important;
}

// Any animated circles (likely the culprit)
circle[class*="animate"],
circle[class*="spin"],
.animate circle,
.spin circle {
  stroke: #059669 !important;
  stroke-dasharray: 126 !important;
  transform-origin: center !important;
}

// Canvas elements (if any progress bars are drawn with canvas)
canvas {
  filter: hue-rotate(140deg) !important; // Convert orange to green
}

/*------------------------------------------------------------------
  # Image and Logo Color Filters
-------------------------------------------------------------------*/

// Apply color filter to progress/loader images only (exclude logos)
img[src*="progress"],
img[src*="loader"],
.preloader img:not([src*="logo"]),
.loading img:not([src*="logo"]) {
  filter: hue-rotate(140deg) saturate(1.2) !important;
}

// Ensure logo images maintain their original colors
img[src*="logo"] {
  filter: none !important; // Remove any color filters from logo
}

/*------------------------------------------------------------------
  # JavaScript Generated Elements
-------------------------------------------------------------------*/

// Override any dynamically created progress elements
[style*="background: #FE6019"],
[style*="background: #fe6019"],
[style*="background-color: #FE6019"],
[style*="background-color: #fe6019"],
[style*="border-color: #FE6019"],
[style*="border-color: #fe6019"] {
  background: #059669 !important;
  background-color: #059669 !important;
  border-color: #059669 !important;
}

// Override CSS custom properties that might be set via JavaScript
* {
  --orange-color: #059669 !important;
  --primary-orange: #059669 !important;
  --brand-color: #059669 !important;
  --theme-color: #059669 !important;
}

/*------------------------------------------------------------------
  # Animation & Keyframe Overrides
-------------------------------------------------------------------*/

// Override any animation colors
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { 
    opacity: 1;
    background-color: #059669 !important;
  }
  50% { 
    opacity: 0.5;
    background-color: #059669 !important;
  }
}

/*------------------------------------------------------------------
  # Plugin-Specific Overrides
-------------------------------------------------------------------*/

// Line Awesome icon colors
.la-spin {
  color: #059669 !important;
}

// AOS (Animate On Scroll) elements
[data-aos] {
  background-color: inherit !important;
}

// Swiper progress bars
.swiper-pagination-progressbar .swiper-pagination-progressbar-fill {
  background: #059669 !important;
}

.swiper-button-next,
.swiper-button-prev {
  color: #059669 !important;
}

/*------------------------------------------------------------------
  # Minimal, Fast Therapeutic Loading Circle
  # Non-obtrusive, performance-focused approach
-------------------------------------------------------------------*/

// Remove the heavy full-screen preloader
.preloader {
  display: none !important; // Disable the obtrusive overlay
}

// Small, elegant therapeutic loading circle (only when needed)
.healing-circle {
  position: fixed;
  top: 20px;
  right: 20px;
  width: 32px;
  height: 32px;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  pointer-events: none;
  
  // Show when loading
  &.loading {
    opacity: 1;
    visibility: visible;
  }
}

// Simple therapeutic circle design
.healing-circle-inner {
  width: 100%;
  height: 100%;
  border: 2px solid rgba(5, 150, 105, 0.2); // Light emerald
  border-top: 2px solid #059669; // Emerald green
  border-radius: 50%;
  animation: therapeuticSpin 1.5s linear infinite;
  position: relative;
  
  // Small terracotta center dot
  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 6px;
    height: 6px;
    background: #CC6B49; // Terracotta - warmth, balance
    border-radius: 50%;
    animation: therapeuticPulse 2s ease-in-out infinite;
  }
}

// Fast, smooth animations
@keyframes therapeuticSpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes therapeuticPulse {
  0%, 100% { 
    opacity: 0.6;
    transform: translate(-50%, -50%) scale(1);
  }
  50% { 
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2);
  }
}

// Loading state for forms and AJAX
.loading {
  .healing-circle {
    opacity: 1;
    visibility: visible;
  }
}

// Responsive sizing
@media (max-width: 768px) {
  .healing-circle {
    top: 15px;
    right: 15px;
    width: 28px;
    height: 28px;
  }
  
  .healing-circle-inner::after {
    width: 5px;
    height: 5px;
  }
}

/*------------------------------------------------------------------
  # Remove Heavy Animation CSS (Performance Cleanup)
-------------------------------------------------------------------*/

// Remove all the complex animations that slow things down
.healing-loader,
.healing-waves,
.blooming-flower,
.flower-petal,
.flower-center,
/*------------------------------------------------------------------
  # Custom Typography - Poppins Headlines & Open Sans Body  
-------------------------------------------------------------------*/

// Ensure headlines use Poppins (primary font)
h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
  font-family: $font-primary !important;
}

// Ensure body text uses Open Sans (secondary font)
body,
p,
.content,
.card-text,
.text-body,
ul, ol, li,
.btn,
.form-control,
.form-label,
input, textarea, select {
  font-family: $font-secondary !important;
}

// Navigation uses Poppins for consistency with headlines
.navbar,
.navbar-nav,
.nav-link {
  font-family: $font-primary !important;
}

// Ensure buttons use body font for consistency
.btn,
.btn-primary,
.btn-secondary,
.btn-outline-secondary {
  font-family: $font-secondary !important;
}

/*------------------------------------------------------------------
  # Performance Cleanup & Color Overrides
-------------------------------------------------------------------*/

// Ultra high specificity override for CSS custom properties that might be set via JavaScript
* {
  --orange-color: #059669 !important;
  --primary-orange: #059669 !important;
  --brand-color: #059669 !important;
  --theme-color: #059669 !important;
}/* =============================================

/* =============================================
   PAGE-SPECIFIC & SECTION STYLES
   Extracted to modular files for performance
   ============================================= */

/* Contact & Signup pages: Import conditionally in page templates
   @import 'pages/contact';
   @import 'pages/signup';
*/

/* Section-specific styles: Import conditionally
   @import 'components/sections';
*/

/* ===============================================
   GLOBAL HEADINGS BRAND COLOR SYSTEM (Simplified v2.0)
   Controlled by params.design.headings_brand_color
   Uses CSS Custom Properties for maintainability
   =============================================== */

/* Default: All headings dark (when headings_brand_color = false) */
:root {
  --heading-h1-color: #111827;  /* Always dark for hierarchy */
  --heading-h2-h6-color: #111827;  /* Default: all dark */
}

/* Brand mode: H2-H6 use brand color (when headings_brand_color = true) */
body.headings-brand-color {
  --heading-h2-h6-color: #4DB380;  /* Main brand emerald */
}

/* Apply colors via custom properties */
h1, .h1,
.section-title h1, .page-title, .hero-title {
  color: var(--heading-h1-color);
}

h2, h3, h4, h5, h6,
.h2, .h3, .h4, .h5, .h6,
.card-title, .feature-title, .widget-title,
.post-title, .blog-title, .service-title, .section-heading,
.pricing-title, .testimonial-author, .testimonial-title,
.team-name, .team-title, .breadcrumb-title,
.navbar-brand, .nav-title, .form-label, .form-legend,
.section-title h2, .section-title h3, .section-title h4, .section-title h5, .section-title h6,
.footer h2, .footer h3, .footer h4, .footer h5, .footer h6,
.sidebar h2, .sidebar h3, .sidebar h4, .sidebar h5, .sidebar h6,
.content h2, .content h3, .content h4, .content h5, .content h6,
.feature-markdown-content h2, .feature-markdown-content h3,
.feature-markdown-content h4, .feature-markdown-content h5, .feature-markdown-content h6 {
  color: var(--heading-h2-h6-color);
}

/* Accordion button (needs !important due to Bootstrap specificity) */
.accordion-button {
  color: var(--heading-h2-h6-color) !important;
}

/* Print: All dark for readability */
@media print {
  :root {
    --heading-h2-h6-color: #111827;
  }
}
/*------------------------------------------------------------------
/*------------------------------------------------------------------
  # Accessibility - Reduced Motion Support
-------------------------------------------------------------------*/

// Respect user preferences for reduced motion
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  // Keep essential functionality
  .btn:hover {
    transform: none;
  }

  .card:hover {
    transform: none;
  }
}

/*------------------------------------------------------------------
  # Utility Classes - Modern Helpers
-------------------------------------------------------------------*/

// Layered background utilities
.bg-layered-healing {
  @include layered-background(
    $gradient-light,
    radial-gradient(circle at top right, $green-100, transparent),
    radial-gradient(circle at bottom left, $terracotta-50, transparent)
  );
}

.bg-gradient-primary {
  background: $gradient-primary;
  color: white;
}

.bg-gradient-secondary {
  background: $gradient-secondary;
  color: white;
}

// Text utilities
.text-display {
  font-family: $font-display;
}

.text-gradient {
  background: $gradient-healing;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

// Shadow utilities
.shadow-primary {
  box-shadow: $shadow-primary;
}

.shadow-secondary {
  box-shadow: $shadow-secondary;
}

.shadow-lift {
  @include hover-lift();
}

/*------------------------------------------------------------------
  # Professional Affiliations Section
-------------------------------------------------------------------*/

.professional-affiliations {
  .affiliation-card {
    background: white;
    border-radius: $radius-lg;
    transition: all 0.3s ease;
    position: relative;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 180px;

    &:hover {
      transform: translateY(-4px);
      box-shadow: $shadow-lg;

      .affiliation-logo {
        filter: grayscale(0%) !important;
        opacity: 1 !important;
      }
    }
  }

  .affiliation-logo {
    max-width: 160px;
    width: 100%;
    object-fit: contain;
  }

  .affiliation-name {
    font-size: 0.875rem;
    font-weight: 600;
    color: $color-text-primary;
  }

  .affiliation-type {
    font-size: 0.75rem;
    color: $color-text-muted;
  }

  .verification-note {
    font-size: 0.875rem;

    i {
      font-size: 1rem;
    }
  }
}

/*------------------------------------------------------------------
  # Office Gallery Section
-------------------------------------------------------------------*/

.office-gallery {
  .gallery-item {
    height: 100%;
  }

  .gallery-image-wrapper {
    position: relative;
    aspect-ratio: 4/3;
    overflow: hidden;
    border-radius: 0.75rem;
    background: #f3f4f6;

    img {
      object-fit: cover;
      width: 100%;
      height: 100%;
      transition: transform 0.5s ease;
    }

    &:hover img {
      transform: scale(1.05);
    }
  }

  .gallery-overlay {
    background: rgba(0, 0, 0, 0);
    transition: all 0.3s ease;
    opacity: 0;

    .gallery-zoom-btn {
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      transform: scale(0.8);
      transition: all 0.3s ease;
      box-shadow: $shadow-lg;

      i {
        font-size: 1.25rem;
      }
    }
  }

  .gallery-image-wrapper:hover .gallery-overlay {
    background: rgba(0, 0, 0, 0.5);
    opacity: 1;

    .gallery-zoom-btn {
      transform: scale(1);
    }
  }

  .gallery-caption {
    .caption-title {
      color: $color-text-primary;
      font-size: 1rem;
    }

    .caption-text {
      font-size: 0.875rem;
      line-height: 1.5;
    }
  }

  .modal-content {
    .modal-header {
      position: absolute;
      top: 0;
      right: 0;
      z-index: 1060;

      .btn-close {
        opacity: 0.8;

        &:hover {
          opacity: 1;
        }
      }
    }

    .modal-body img {
      box-shadow: $shadow-2xl;
    }
  }

  .gallery-cta {
    p {
      font-size: 1.125rem;
    }
  }

  // Responsive adjustments
  @media (max-width: 768px) {
    .gallery-grid {
      gap: 1rem !important;
    }

    .gallery-image-wrapper {
      aspect-ratio: 16/9;
    }
  }
}

/*------------------------------------------------------------------
  # Enhanced Testimonials Section
-------------------------------------------------------------------*/

.testimonials-enhanced {
  .testimonial-card {
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);

    &:hover {
      transform: translateY(-4px);
      box-shadow: $shadow-lg !important;
    }
  }

  .testimonial-rating {
    i {
      font-size: 1.125rem;
      margin-right: 0.125rem;
    }
  }

  .testimonial-quote {
    p {
      color: $color-text-primary;
      font-size: 1rem;
      line-height: 1.7;
      position: relative;
      padding-left: 1.5rem;

      &::before {
        content: '"';
        position: absolute;
        left: 0;
        top: -0.25rem;
        font-size: 2.5rem;
        color: $color-primary;
        opacity: 0.2;
        font-family: Georgia, serif;
        line-height: 1;
      }
    }
  }

  .testimonial-author {
    .author-name {
      color: $color-text-primary;
      font-size: 1rem;
    }

    .author-meta {
      font-size: 0.875rem;
      line-height: 1.6;

      span {
        display: inline-block;

        &:not(:last-child)::after {
          content: "•";
          margin: 0 0.5rem;
        }
      }
    }
  }

  .verification-badge {
    i {
      font-size: 1.5rem;
    }
  }

  .testimonial-outcome {
    background: rgba($color-primary, 0.05);
    border-radius: $radius-md;
    padding: 0.75rem;
    margin-top: 1rem !important;

    p {
      line-height: 1.5;
    }

    i {
      font-size: 1rem;
    }
  }

  .privacy-note {
    i {
      font-size: 0.875rem;
    }
  }

  // Responsive
  @media (max-width: 768px) {
    .testimonial-card {
      padding: 1.25rem !important;
    }

    .testimonial-quote p {
      font-size: 0.9375rem;
    }

    .author-meta span::after {
      content: "";
      margin: 0;
    }

    .author-meta span {
      display: block !important;
    }
  }
}

/* ============================================
   First Session Timeline Section
   ============================================ */
.first-session-timeline {
  .timeline-container {
    position: relative;
  }

  .timeline-step {
    position: relative;
    display: flex;
    gap: 2rem;
    margin-bottom: 3rem;

    &.timeline-step-connected::after {
      content: '';
      position: absolute;
      left: 32px;
      top: 64px;
      width: 2px;
      height: calc(100% + 1rem);
      background: linear-gradient(to bottom, #4DB380 0%, rgba(77, 179, 128, 0.3) 100%);
      z-index: 0;
    }

    &:last-child {
      margin-bottom: 0;
    }
  }

  .timeline-marker {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    z-index: 1;
  }

  .timeline-icon {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: linear-gradient(135deg, #4DB380 0%, #3a9b6b 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(77, 179, 128, 0.3);
    font-size: 1.5rem;
    font-weight: 600;
    position: relative;

    &::before {
      content: '';
      position: absolute;
      inset: -4px;
      border-radius: 50%;
      border: 2px solid rgba(77, 179, 128, 0.2);
    }

    .timeline-number {
      font-size: 1.75rem;
      font-weight: 700;
    }
  }

  .timeline-duration {
    font-size: 0.875rem;
    font-weight: 600;
    color: #4DB380;
    background: rgba(77, 179, 128, 0.1);
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    white-space: nowrap;
  }

  .timeline-content {
    flex: 1;
    background: white;
    padding: 1.5rem;
    border-radius: 0.75rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(77, 179, 128, 0.1);
    transition: all 0.3s ease;

    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
      border-color: rgba(77, 179, 128, 0.3);
    }

    h4 {
      color: #111827;
      margin-bottom: 0.5rem;
    }

    p {
      line-height: 1.7;
      margin-bottom: 0;
    }
  }

  .timeline-highlights {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;

    li {
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      font-size: 0.9375rem;
      color: #4b5563;

      i {
        flex-shrink: 0;
        margin-top: 0.125rem;
      }

      span {
        flex: 1;
      }
    }
  }

  .reassurance-box {
    animation: pulse-subtle 3s ease-in-out infinite;

    i {
      animation: heartbeat 2s ease-in-out infinite;
    }
  }

  @keyframes pulse-subtle {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(77, 179, 128, 0.1);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(77, 179, 128, 0);
    }
  }

  @keyframes heartbeat {
    0%, 100% {
      transform: scale(1);
    }
    25% {
      transform: scale(1.1);
    }
    50% {
      transform: scale(1);
    }
  }

  // Mobile responsive
  @media (max-width: 768px) {
    .timeline-step {
      gap: 1rem;
      margin-bottom: 2rem;

      &.timeline-step-connected::after {
        left: 24px;
        top: 56px;
      }
    }

    .timeline-icon {
      width: 48px;
      height: 48px;
      font-size: 1.25rem;

      .timeline-number {
        font-size: 1.5rem;
      }
    }

    .timeline-duration {
      font-size: 0.75rem;
      padding: 0.2rem 0.5rem;
    }

    .timeline-content {
      padding: 1rem;
    }
  }
}

/* ============================================
   Therapist Match Section
   ============================================ */
.therapist-match {
  .match-card {
    background: white;
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    border: 2px solid transparent;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    }

    &.match-card-good {
      border-color: rgba(34, 197, 94, 0.2);
      background: linear-gradient(to bottom right, #ffffff 0%, rgba(34, 197, 94, 0.02) 100%);

      &:hover {
        border-color: rgba(34, 197, 94, 0.4);
        box-shadow: 0 8px 24px rgba(34, 197, 94, 0.15);
      }
    }

    &.match-card-not {
      border-color: rgba(156, 163, 175, 0.2);
      background: linear-gradient(to bottom right, #ffffff 0%, rgba(156, 163, 175, 0.02) 100%);

      &:hover {
        border-color: rgba(156, 163, 175, 0.3);
      }
    }
  }

  .match-card-header {
    text-align: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);

    i {
      display: block;
    }

    h3 {
      color: #111827;
    }

    p {
      margin-bottom: 0;
      font-size: 0.9375rem;
    }
  }

  .match-card-body {
    flex: 1;
    margin-bottom: 1.5rem;
  }

  .match-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;

    li {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      font-size: 1rem;
      line-height: 1.6;

      i {
        flex-shrink: 0;
        font-size: 1.25rem;
        margin-top: 0.125rem;
      }

      span {
        flex: 1;
      }
    }
  }

  .match-card-footer {
    background: rgba(77, 179, 128, 0.05);
    padding: 1.25rem;
    border-radius: 0.75rem;
    margin-top: auto;

    h5 {
      font-size: 0.875rem;
      text-transform: uppercase;
      font-weight: 700;
      letter-spacing: 0.5px;
      color: #4DB380;
      margin-bottom: 1rem;
    }
  }

  .match-examples,
  .match-referrals {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.625rem;

    li {
      font-size: 0.9375rem;
      color: #4b5563;
      padding-left: 1.25rem;
      position: relative;
      line-height: 1.5;

      &::before {
        content: '"';
        position: absolute;
        left: 0;
        font-size: 1.5rem;
        line-height: 1;
        color: #4DB380;
        font-weight: 700;
      }
    }
  }

  .match-referrals li {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    padding-left: 0;

    &::before {
      display: none;
    }

    i {
      flex-shrink: 0;
      margin-top: 0.125rem;
    }

    span {
      flex: 1;
    }
  }

  .honesty-note {
    i {
      animation: pulse-gentle 2.5s ease-in-out infinite;
    }
  }

  @keyframes pulse-gentle {
    0%, 100% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.05);
      opacity: 0.9;
    }
  }

  // Mobile responsive
  @media (max-width: 768px) {
    .match-card {
      padding: 1.5rem;
    }

    .match-card-header {
      margin-bottom: 1rem;
      padding-bottom: 1rem;

      h3 {
        font-size: 1.25rem;
      }
    }

    .match-list li {
      font-size: 0.9375rem;
      gap: 0.5rem;
    }

    .match-card-footer {
      padding: 1rem;
    }
  }
}

/* ============================================
   Service FAQ Inline Section
   ============================================ */
.service-faq-inline {
  .service-faq-accordion {
    .accordion-item {
      background: white;
      border: 1px solid rgba(77, 179, 128, 0.15);
      border-radius: 0.75rem !important;
      margin-bottom: 1rem;
      overflow: hidden;
      transition: all 0.3s ease;

      &:hover {
        border-color: rgba(77, 179, 128, 0.3);
        box-shadow: 0 4px 12px rgba(77, 179, 128, 0.08);
      }

      &:last-child {
        margin-bottom: 0;
      }
    }

    .accordion-header {
      margin-bottom: 0;
    }

    .accordion-button {
      padding: 1.25rem 1.5rem;
      font-size: 1.0625rem;
      font-weight: 600;
      color: #111827;
      background: white;
      border: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: none !important;

      &:not(.collapsed) {
        background: linear-gradient(to right, rgba(77, 179, 128, 0.05) 0%, white 100%);
        color: #4DB380;
        border-bottom: 1px solid rgba(77, 179, 128, 0.1);

        &::after {
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%234DB380'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }
      }

      &::after {
        flex-shrink: 0;
        margin-left: auto;
      }

      i {
        font-size: 1.25rem;
        flex-shrink: 0;
      }

      .accordion-question {
        flex: 1;
        text-align: left;
      }

      .badge {
        flex-shrink: 0;
        font-size: 0.75rem;
        font-weight: 600;
        padding: 0.375rem 0.75rem;
      }
    }

    .accordion-body {
      padding: 1.5rem;
      background: white;

      .faq-answer {
        color: #4b5563;
        line-height: 1.7;
        font-size: 1rem;

        p:last-child {
          margin-bottom: 0;
        }

        strong {
          color: #111827;
        }
      }

      .faq-highlights {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        padding: 1rem;
        background: rgba(77, 179, 128, 0.05);
        border-radius: 0.5rem;
        border-left: 3px solid #4DB380;

        li {
          display: flex;
          align-items: flex-start;
          gap: 0.5rem;
          font-size: 0.9375rem;
          color: #374151;

          i {
            flex-shrink: 0;
            font-size: 1.125rem;
            margin-top: 0.125rem;
          }

          span {
            flex: 1;
          }
        }
      }

      .faq-note {
        display: flex;
        align-items: flex-start;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
        background: rgba(77, 179, 128, 0.05);
        border-radius: 0.5rem;
        font-size: 0.9375rem;

        i {
          flex-shrink: 0;
          font-size: 1.125rem;
          margin-top: 0.125rem;
        }

        span {
          flex: 1;
        }
      }
    }
  }

  .faq-contact-note {
    i {
      display: block;
    }
  }

  // Mobile responsive
  @media (max-width: 768px) {
    .service-faq-accordion {
      .accordion-button {
        padding: 1rem;
        font-size: 1rem;

        i {
          font-size: 1.125rem;
        }

        .badge {
          display: none; // Hide badges on mobile to save space
        }
      }

      .accordion-body {
        padding: 1rem;

        .faq-answer {
          font-size: 0.9375rem;
        }

        .faq-highlights {
          padding: 0.75rem;

          li {
            font-size: 0.875rem;
          }
        }

        .faq-note {
          padding: 0.625rem 0.875rem;
          font-size: 0.875rem;
        }
      }
    }

    .faq-contact-note {
      padding: 1.5rem 1rem !important;
    }
  }
}

/* ============================================
   Contact Options Section
   ============================================ */
.contact-options {
  .contact-option-card {
    position: relative;
    background: white;
    border: 2px solid rgba(77, 179, 128, 0.15);
    border-radius: 1rem;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    transition: all 0.3s ease;
    overflow: hidden;

    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(to right, #4DB380, #3a9b6b);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.3s ease;
    }

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 32px rgba(77, 179, 128, 0.15);
      border-color: rgba(77, 179, 128, 0.3);

      &::before {
        transform: scaleX(1);
      }

      .option-icon {
        transform: scale(1.1) rotate(5deg);
      }
    }

    .option-badge {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: linear-gradient(135deg, #4DB380, #3a9b6b);
      color: white;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      padding: 0.375rem 0.75rem;
      border-radius: 1rem;
      box-shadow: 0 2px 8px rgba(77, 179, 128, 0.3);
    }

    .option-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(77, 179, 128, 0.1), rgba(77, 179, 128, 0.05));
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem;
      color: #4DB380;
      transition: all 0.3s ease;

      &.featured {
        background: linear-gradient(135deg, #4DB380, #3a9b6b);
        color: white;
        box-shadow: 0 4px 16px rgba(77, 179, 128, 0.3);
      }

      i {
        font-size: 2.5rem;
      }
    }

    .option-content {
      flex: 1;
      text-align: center;

      h4 {
        color: #111827;
        margin-bottom: 0.5rem;
      }
    }

    .commitment-indicator {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;

      .commitment-bars {
        display: flex;
        gap: 0.375rem;

        .bar {
          width: 40px;
          height: 6px;
          background: rgba(156, 163, 175, 0.2);
          border-radius: 3px;
          transition: all 0.3s ease;

          &.active {
            background: linear-gradient(to right, #4DB380, #3a9b6b);
          }
        }
      }

      .commitment-label {
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        color: #6b7280;
        letter-spacing: 0.5px;
      }
    }

    .option-features {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0.625rem;
      text-align: left;

      li {
        display: flex;
        align-items: flex-start;
        gap: 0.5rem;
        font-size: 0.9375rem;
        color: #4b5563;

        i {
          flex-shrink: 0;
          margin-top: 0.125rem;
        }

        span {
          flex: 1;
        }
      }
    }

    .response-time {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.75rem 1rem;
      background: rgba(77, 179, 128, 0.05);
      border-radius: 0.5rem;
      font-size: 0.875rem;
      font-weight: 600;
    }

    .option-cta {
      margin-top: 1.5rem;
    }
  }

  .alternative-methods {
    .method-buttons {
      .method-button {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.875rem 1.5rem;
        background: white;
        border: 2px solid rgba(77, 179, 128, 0.2);
        border-radius: 0.75rem;
        color: #111827;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;

        i {
          color: #4DB380;
          font-size: 1.25rem;
          transition: transform 0.3s ease;
        }

        &:hover {
          background: #4DB380;
          border-color: #4DB380;
          color: white;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(77, 179, 128, 0.3);

          i {
            color: white;
            transform: scale(1.1);
          }
        }
      }
    }
  }

  // Mobile responsive
  @media (max-width: 768px) {
    .contact-option-card {
      padding: 1.5rem;

      .option-icon {
        width: 64px;
        height: 64px;

        i {
          font-size: 2rem;
        }
      }

      .commitment-indicator {
        .commitment-bars .bar {
          width: 32px;
        }
      }
    }

    .alternative-methods {
      .method-buttons {
        .method-button {
          padding: 0.75rem 1.25rem;
          font-size: 0.9375rem;

          i {
            font-size: 1.125rem;
          }
        }
      }
    }
  }
}
