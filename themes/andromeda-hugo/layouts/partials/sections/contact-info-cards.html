{{/*
==============================================================================
CONTACT INFO CARDS SECTION - BEM Refactored
==============================================================================
Contact methods grid (phone, email, location) using contact-method-card molecules.

FEATURES:
- Full BEM structure (.c-contact-info-section)
- Uses contact-method-card molecule composition
- Grid layout (3 columns → 2 → 1 responsive)
- Auto-variant cycling for color distribution
- Optional section title
- No Bootstrap dependencies
- No AOS attributes (section-level animations)

USAGE:
sections:
  - type: "contact-info-cards"

contact_info_cards:
  - icon: "phone"
    label: "Telefon"
    value: "+40 123 456 789"
    subtitle: "Luni - Vineri, 9:00 - 18:00"
    link: "tel:+40123456789"    # Optional
    variant: "primary"            # Optional (auto-cycles if not set)
    size: "md"                    # Optional: sm|md|lg (default: md)
  - icon: "envelope"
    label: "Email"
    value: "contact@example.com"
    subtitle: "Răspundem în 24h"
    link: "mailto:contact@example.com"
  - icon: "map-marker"
    label: "Locație"
    value: "Strada Exemplu 123"
    subtitle: "București, România"
    link: "https://maps.google.com/..."

OPTIONAL PARAMS:
contact_info_title: "Contactează-ne"  # Optional: Section title
contact_info_subtitle: "Subtitle..."  # Optional: Section subtitle

DEPENDENCIES:
- molecules/contact-method-card.html
- atoms/heading.html (if title provided)
- _contact-info-cards.scss

VERSION: 2.0.0 (BEM Refactor)
LAST UPDATED: 2025-11-20
==============================================================================
*/}}

{{ with .Params.contact_info_cards }}
<section class="c-contact-info-section">
  <div class="o-container">
    <div class="c-contact-info-section__wrapper">

      {{/* Optional section title */}}
      {{ with $.Params.contact_info_title }}
      <div class="c-contact-info-section__header">
        {{ partial "atoms/heading.html" (dict
          "level" 2
          "text" .
          "class" "c-contact-info-section__title"
          "markdown" true
        ) }}
        {{ with $.Params.contact_info_subtitle }}
        <p class="c-contact-info-section__subtitle">{{ . | markdownify }}</p>
        {{ end }}
      </div>
      {{ end }}

      {{/* Contact methods grid */}}
      <div class="c-contact-info-section__grid">
        {{ range $index, $method := . }}
          {{/* Auto-cycle variants if not explicitly set */}}
          {{- $variant := $method.variant | default (index (slice "primary" "secondary" "tertiary") (mod $index 3)) -}}

          <div class="c-contact-info-section__item">
            {{ partial "molecules/contact-method-card.html" (dict
              "icon" $method.icon
              "icon_prefix" $method.icon_prefix
              "label" $method.label
              "value" $method.value
              "subtitle" $method.subtitle
              "link" $method.link
              "variant" $variant
              "size" ($method.size | default "md")
            ) }}
          </div>
        {{ end }}
      </div>

    </div>
  </div>
</section>
{{ end }}
