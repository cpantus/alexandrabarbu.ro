{{/* Feature Blocks Section - Enhanced with Zigzag Layout */}}
{{ $data := .Params.feature_blocks }}
{{ if not $data }}
  {{ with .Site.Data.services }}
    {{ $data = .feature_blocks }}
  {{ end }}
{{ end }}

<section class="feature-blocks-section">
  <div class="container">
    {{ range $index, $item := $data }}
      {{ $n := add $index 1 }}
      <div class="feature-block-item">
        <div class="row justify-content-center align-items-center">
          {{/* Text Content */}}
          <div class="col-lg-5 {{ if (modBool $n 2) }}order-lg-1{{ end }}">
            <div class="feature-content">
              <div class="section-title">
                {{ if $item.subtitle }}
                  <p class="subtitle text-uppercase">{{ $item.subtitle | markdownify }}</p>
                {{ end }}
                {{/* Use atoms/heading.html for consistent typography */}}
                {{ partial "atoms/heading.html" (dict "text" ($item.title | markdownify) "level" "h2" "class" "title") }}
                <p>{{ $item.description | markdownify }}</p>
              </div>
            </div>
          </div>

          {{/* Image - Uses atoms/image.html for consistent handling */}}
          <div class="col-lg-6 mt-4 mt-lg-0">
            <div class="feature-image-wrapper parallax-enabled">
              {{ partial "atoms/image.html" (dict "src" $item.image "alt" $item.title "size" "575x") }}
            </div>
          </div>
        </div>
      </div>
    {{ end }}
  </div>
</section>
