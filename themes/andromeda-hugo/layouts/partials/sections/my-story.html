{{/*
  ============================================================================
  My Story Section - BEM Architecture
  ============================================================================
  Personal narrative section with rich text and optional images

  Features:
  - Multi-paragraph narrative content (markdown support)
  - Optional pull quote highlighting
  - Optional image embeds
  - Warm, personal tone styling

  Data Structure:
  ---------------
  my_story:
    title: "My Story"                       # Section heading
    subtitle: "The Journey"                 # Optional eyebrow
    content: |                              # Markdown content
      ## Why I Became a Psychologist

      Lorem ipsum narrative text...
    pull_quote: "Quote text..."             # Optional highlighted quote
    pull_quote_author: "Author name"        # Optional quote attribution
    image: "images/personal-photo.jpg"      # Optional supporting image
    image_caption: "Caption text"           # Optional image caption

  Parameters:
  -----------
  None - Data-driven from front matter

  Usage:
  ------
  ```yaml
  sections:
    - type: "my-story"

  my_story:
    title: "Povestea Mea"
    content: |
      De ce am devenit psiholog...
    pull_quote: "Meaningful quote from narrative"
  ```

  BEM Structure:
  --------------
  .c-my-story                    - Section wrapper
  .c-my-story__header            - Header container
  .c-my-story__subtitle          - Eyebrow text
  .c-my-story__title             - Main heading
  .c-my-story__container         - Content container
  .c-my-story__content           - Markdown content
  .c-my-story__pull-quote        - Highlighted quote
  .c-my-story__quote-text        - Quote text
  .c-my-story__quote-author      - Quote attribution
  .c-my-story__image-wrapper     - Image container
  .c-my-story__image             - Image element
  .c-my-story__image-caption     - Image caption

  Dependencies:
  -------------
  - atoms/heading.html (title)
  - atoms/image.html (optional image)
  - _my-story.scss (BEM styles)

  Version: 1.0.0
  Updated: 2025-11-20
  ============================================================================
*/}}

{{- $data := .Params.my_story -}}
{{- if not $data -}}
  {{- $data = site.Data.shared_sections.my_story -}}
{{- end -}}

{{- if $data -}}
<section class="c-my-story section">
  <div class="o-container">

    {{/* Section Header */}}
    {{- if or $data.title $data.subtitle -}}
    <div class="c-my-story__header text-center">
      {{- if $data.subtitle -}}
        <p class="c-my-story__subtitle text-uppercase">{{ $data.subtitle }}</p>
      {{- end -}}
      {{- if $data.title -}}
        {{ partial "atoms/heading.html" (dict
          "text" $data.title
          "level" 2
          "class" "c-my-story__title"
        ) }}
      {{- end -}}
    </div>
    {{- end -}}

    {{/* Content Container */}}
    <div class="c-my-story__container">

      {{/* Main Content (Markdown) */}}
      {{- if $data.content -}}
        <div class="c-my-story__content" data-aos="fade-up">
          {{ $data.content | markdownify }}
        </div>
      {{- end -}}

      {{/* Optional Pull Quote */}}
      {{- if $data.pull_quote -}}
        <div class="c-my-story__pull-quote" data-aos="fade-up" data-aos-delay="100">
          <blockquote class="c-my-story__quote-text">
            "{{ $data.pull_quote }}"
          </blockquote>
          {{- if $data.pull_quote_author -}}
            <cite class="c-my-story__quote-author">â€” {{ $data.pull_quote_author }}</cite>
          {{- end -}}
        </div>
      {{- end -}}

      {{/* Optional Image */}}
      {{- if $data.image -}}
        <div class="c-my-story__image-wrapper" data-aos="fade-up" data-aos-delay="200">
          {{ partial "atoms/image.html" (dict
            "src" $data.image
            "alt" (default "Personal photo" $data.image_alt)
            "class" "c-my-story__image"
          ) }}
          {{- if $data.image_caption -}}
            <p class="c-my-story__image-caption">{{ $data.image_caption }}</p>
          {{- end -}}
        </div>
      {{- end -}}

    </div>

  </div>
</section>
{{- end -}}
