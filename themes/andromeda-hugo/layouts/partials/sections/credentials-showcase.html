{{/*
  ============================================================================
  Credentials Showcase Section - BEM Refactored
  ============================================================================
  Enhanced v4.0 section with gradient icon circles, glassmorphism, organic blobs

  Features:
  - Circular carousel layout (desktop 2×2 grid with transform origins)
  - Gradient icon circles (8 color variants via credential-badge molecule)
  - Staggered entrance animations (fade-in-up, 100ms delay)
  - Glassmorphism background effect
  - Organic blob decorative elements
  - Responsive grid (2×2 → 2×n → 1×n)
  - Optional trust text with italic styling

  Data Structure:
  ---------------
  credentials_showcase:
    enable: true                        # Required - Show/hide section
    title: "Professional Credentials"   # Optional - Section title
    subtitle: "Licensed & Certified"    # Optional - Eyebrow text
    description: "Verified credentials" # Optional - Description
    background: "light"                 # Optional - Background variant (light, compact)
    show_trust_text: true               # Optional - Show trust message
    trust_text: "All credentials..."    # Optional - Trust message text
    credentials:
      - icon: "certificate"             # Required - Icon name
        label: "Licensed Psychologist"  # Required - Credential name
        value: "15+ years"              # Optional - Additional info
        variant: "primary"              # Optional - Color (primary, secondary, coral, premium, sage, info, success, warning)
        size: "md"                      # Optional - Size (sm, md, lg)

  Parameters:
  -----------
  None - Data-driven from front matter or shared data

  Usage:
  ------
  ```yaml
  sections:
    - type: "credentials-showcase"

  credentials_showcase:
    enable: true
    title: "Professional Credentials & Affiliations"
    subtitle: "Licensed & Certified"
    description: "Verified credentials and professional memberships"
    background: "light"
    show_trust_text: true
    trust_text: "All credentials verified by Romanian College of Psychologists"
    credentials:
      - icon: "certificate"
        label: "Licensed Psychologist"
        value: "RCP #12345"
        variant: "primary"
        size: "md"
      - icon: "award"
        label: "CBT Specialist"
        value: "REBT Certified"
        variant: "secondary"
        size: "md"
      - icon: "users"
        label: "15+ Years Experience"
        variant: "coral"
        size: "md"
      - icon: "shield-check"
        label: "Ethics Committee"
        value: "Member"
        variant: "premium"
        size: "md"
  ```

  BEM Structure:
  --------------
  .c-credentials                   - Section wrapper
    .c-credentials--light          - Light background variant
    .c-credentials--compact        - Compact padding variant
  .c-credentials__header           - Title/subtitle/description wrapper
  .c-credentials__subtitle         - Eyebrow text
  .c-credentials__title            - Section heading
  .c-credentials__description      - Description paragraph
  .c-credentials__grid             - Badges grid container
    .c-credentials__grid--circular - Circular 2×2 layout (auto for 4 badges)
  .c-credentials__trust-text       - Trust message container

  Dependencies:
  -------------
  - atoms/heading.html (section title)
  - molecules/credential-badge.html (individual badges with gradient icons)
  - _credentials.scss (233 lines BEM styles)
  - _badge.scss (credential-badge molecule styles)

  Version: 5.0.1 (BEM refactor)
  Updated: 2025-11-20
  ============================================================================
*/}}

{{- $section := .Params.credentials_showcase -}}
{{- if not $section -}}
  {{- with .Site.Data.shared_sections -}}
    {{- $section = .credentials_showcase -}}
  {{- end -}}
{{- end -}}

{{- with $section -}}
  {{- if .enable -}}
    {{- $backgroundClass := "" -}}
    {{- if .background -}}
      {{- if eq .background "light" -}}
        {{- $backgroundClass = "c-credentials--light" -}}
      {{- else if eq .background "compact" -}}
        {{- $backgroundClass = "c-credentials--compact" -}}
      {{- end -}}
    {{- end -}}

    {{/* Determine if circular layout (exactly 4 credentials) */}}
    {{- $useCircular := eq (len .credentials) 4 -}}
    {{- $gridClass := "c-credentials__grid" -}}
    {{- if $useCircular -}}
      {{- $gridClass = "c-credentials__grid c-credentials__grid--circular" -}}
    {{- end -}}

    <section class="c-credentials {{ $backgroundClass }}">
      <div class="o-container">
        {{/* Section Header (optional) */}}
        {{- if or .subtitle .title .description -}}
          <div class="c-credentials__header">
            {{- if .subtitle -}}
              <p class="c-credentials__subtitle">{{ .subtitle | markdownify }}</p>
            {{- end -}}

            {{- if .title -}}
              {{- partial "atoms/heading.html" (dict
                "text" .title
                "level" "h2"
                "variant" "primary"
                "class" "c-credentials__title"
              ) -}}
            {{- end -}}

            {{- if .description -}}
              <p class="c-credentials__description">{{ .description | markdownify }}</p>
            {{- end -}}
          </div>
        {{- end -}}

        {{/* Credentials Grid */}}
        <div class="{{ $gridClass }}">
          {{- range $index, $credential := .credentials -}}
            {{/* Use credential-badge molecule (already refactored in Phase 3) */}}
            {{- partial "molecules/credential-badge.html" (dict
              "icon" .icon
              "label" .label
              "value" .value
              "variant" (default "primary" .variant)
              "size" (default "md" .size)
            ) -}}
          {{- end -}}
        </div>

        {{/* Optional Trust Text */}}
        {{- if and .show_trust_text .trust_text -}}
          <div class="c-credentials__trust-text">
            <p>{{ .trust_text | markdownify }}</p>
          </div>
        {{- end -}}
      </div>
    </section>
  {{- end -}}
{{- end -}}
