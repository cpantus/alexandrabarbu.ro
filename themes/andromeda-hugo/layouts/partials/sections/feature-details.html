{{/* Feature Details Section - Extended Feature Blocks with Markdown Content */}}
{{ $data := .Params.feature_details }}
{{ if not $data }}
  {{ with .Site.Data.services }}
    {{ $data = .feature_details }}
  {{ end }}
{{ end }}

<section class="section-sm">
  <div class="container">
    {{ range $index, $item := $data }}
      {{ $n := add $index 1 }}
      <div class="row justify-content-center align-items-center mb-4">
        <div
          class="col-lg-5 {{ if (modBool $n 2) }}order-lg-1{{ end }}"
          data-aos="fade-up">
          <div class="section-title mb-0">
            <p class="text-uppercase">{{ $item.subtitle | markdownify }}</p>
            <h2 class="title text-break">{{ $item.title | markdownify }}</h2>
            <p>{{ $item.description | markdownify }}</p>

            {{/* Extended: Render markdown content if provided */}}
            {{ if $item.markdown }}
              <div class="feature-markdown-content mt-4">
                {{ $item.markdown | markdownify }}
              </div>
            {{ end }}
          </div>
        </div>
        <div
          class="col-lg-6 mt-3 mt-lg-0"
          data-aos="fade-up"
          data-aos-delay="100">
          <div class="ps-0 ps-lg-3">
            {{ partial "image.html" (dict "Src" $item.image "Alt" "feature" "Size" "575x") }}
          </div>
        </div>
      </div>
    {{ end }}
  </div>
</section>