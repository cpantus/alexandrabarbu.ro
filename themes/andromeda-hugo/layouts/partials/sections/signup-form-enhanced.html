{{/*
  Enhanced Signup Form Section

  Two-column account creation form with benefits list and image.
  Layout: Left column (benefits + image) + Right column (signup form)

  Front Matter Parameters:
  - .Params.welcome_title (string, optional): Main welcome heading (default: "Bun venit în spațiul tău sigur")
  - .Content (string, optional): Description text below title
  - .Params.account_benefits (array, optional): List of benefits/features
  - .Params.image (string, optional): Image path for left column
  - .Params.button_variant (string, optional): Button color variant (default: primary)
  - .Params.variant (string, optional): Section color variant (primary/secondary/tertiary/neutral, default: primary)
  - site.Params.career_form_action (string, required): Form submission endpoint

  BEM Structure:
  - .c-signup-section (section block)
  - .c-signup-section__container (container wrapper)
  - .c-signup-section__content (left column - benefits/image)
  - .c-signup-section__benefits (benefits box)
  - .c-signup-section__benefits-list (benefits list)
  - .c-signup-section__benefits-item (individual benefit)
  - .c-signup-section__image-wrapper (image wrapper)
  - .c-signup-section__form (right column - form)
  - .c-signup-section__footer (footer link)

  Example Usage:
  ```yaml
  sections:
    - type: "signup-form-enhanced"

  welcome_title: "Welcome to Your Safe Space"
  content: "Create your account to access personalized therapy resources"
  account_benefits:
    - "Access to exclusive therapy resources"
    - "Track your therapy progress"
    - "Secure messaging with your therapist"
    - "Appointment scheduling"
  image: "images/signup-banner.jpg"
  button_variant: "primary"
  variant: "primary"
  ```

  Features:
  - Two-column responsive layout
  - Benefits list with check icons
  - Form with validation
  - Terms & conditions checkbox
  - Newsletter opt-in
  - GDPR compliant
  - Responsive (stacks on mobile)
  - Form-field molecule integration

  Created: 2025-11-20 (Phase 5 refactor)
  Version: 1.0.0 (BEM)
*/}}

{{- $variant := .Params.variant | default "primary" -}}
{{- $welcomeTitle := .Params.welcome_title | default "Bun venit în spațiul tău sigur" -}}
{{- $buttonVariant := .Params.button_variant | default $variant -}}

<section class="c-signup-section c-signup-section--{{ $variant }}">
  <div class="c-signup-section__container">
    {{/* Left Column: Benefits + Image */}}
    <div class="c-signup-section__content">
      <div class="c-signup-section__header">
        {{ partial "atoms/heading.html" (dict
          "text" $welcomeTitle
          "level" "h3"
          "class" "c-signup-section__title"
          "variant" $variant
        ) }}

        {{- if .Content -}}
          <p class="c-signup-section__description">{{ .Content }}</p>
        {{- end -}}
      </div>

      {{- with .Params.account_benefits -}}
        <div class="c-signup-section__benefits">
          {{ partial "atoms/heading.html" (dict
            "text" "Ce vei primi:"
            "level" "h5"
            "class" "c-signup-section__benefits-title"
            "variant" "secondary"
          ) }}

          <ul class="c-signup-section__benefits-list">
            {{- range . -}}
              <li class="c-signup-section__benefits-item">
                {{ partial "atoms/icon.html" (dict
                  "name" "check"
                  "variant" $variant
                  "class" "c-signup-section__benefits-icon"
                ) }}
                {{ . }}
              </li>
            {{- end -}}
          </ul>
        </div>
      {{- end -}}

      {{- with .Params.image -}}
        <div class="c-signup-section__image-wrapper">
          {{ partial "atoms/image.html" (dict
            "src" .
            "alt" "Sign up banner"
            "size" "475x"
            "class" "c-signup-section__image"
          ) }}
        </div>
      {{- end -}}
    </div>

    {{/* Right Column: Signup Form */}}
    <div class="c-signup-section__form">
      {{ partial "atoms/heading.html" (dict
        "text" "Creează-ți Contul"
        "level" "h3"
        "class" "c-signup-section__form-title"
        "variant" "secondary"
      ) }}

      {{- with site.Params.career_form_action -}}
        <form class="c-signup-section__form-element" action="{{ . }}" method="POST">
          {{ partial "molecules/form-field.html" (dict
            "type" "text"
            "name" "fname"
            "id" "signup-fname"
            "label" "Nume complet"
            "required" true
            "variant" $variant
            "class" "c-signup-section__field"
          ) }}

          {{ partial "molecules/form-field.html" (dict
            "type" "email"
            "name" "email"
            "id" "signup-email"
            "label" "Email"
            "required" true
            "variant" $variant
            "class" "c-signup-section__field"
          ) }}

          {{ partial "molecules/form-field.html" (dict
            "type" "password"
            "name" "password"
            "id" "signup-password"
            "label" "Parolă"
            "required" true
            "helpText" "Minim 8 caractere"
            "variant" $variant
            "class" "c-signup-section__field"
          ) }}

          {{ partial "molecules/form-field.html" (dict
            "type" "tel"
            "name" "phone"
            "id" "signup-phone"
            "label" "Telefon (opțional)"
            "variant" $variant
            "class" "c-signup-section__field"
          ) }}

          {{ partial "molecules/form-field.html" (dict
            "type" "checkbox"
            "name" "terms"
            "id" "signup-terms"
            "label" (`Accept <a href="/terms-and-conditions/">termenii și condițiile</a> și <a href="/privacy/">politica de confidențialitate</a>` | safeHTML)
            "required" true
            "variant" $variant
            "class" "c-signup-section__field"
          ) }}

          {{ partial "molecules/form-field.html" (dict
            "type" "checkbox"
            "name" "newsletter"
            "id" "signup-newsletter"
            "label" "Doresc să primesc resurse și sfaturi terapeutice (opțional)"
            "variant" $variant
            "class" "c-signup-section__field c-signup-section__field--last"
          ) }}

          {{ partial "atoms/button.html" (dict
            "text" "Creează Cont"
            "type" "submit"
            "variant" $buttonVariant
            "fullWidth" true
            "class" "c-signup-section__submit"
          ) }}
        </form>
      {{- end -}}

      <div class="c-signup-section__footer">
        <small>Ai deja cont? <a href="/signin/" class="c-signup-section__footer-link">Conectează-te aici</a></small>
      </div>
    </div>
  </div>
</section>
