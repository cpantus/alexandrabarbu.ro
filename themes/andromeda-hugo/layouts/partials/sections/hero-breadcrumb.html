{{/*
  Hero Breadcrumb Section - Page header with title, breadcrumb, and compass animation

  Usage:
    Add to page front matter:
    ---
    sections:
      - type: "hero-breadcrumb"
    ---

  Optional parameters in front matter:
    hero_breadcrumb:
      title: "Main title text" (overrides .Title)
      title_accent: "Italic accent text (e.g., Nordul Interior)"
      subtitle: "Subheading text below title (18px, medium weight)"
      description: "Longer body text below subtitle (16px, normal weight)"
      kicker: "Optional kicker text (above title)"
      variant: "primary|secondary|tertiary|neutral" (default: primary)
      breadcrumb_variant: "primary|secondary|tertiary|neutral" (default: neutral)
      show_breadcrumb: true|false (default: false)
      show_compass: true|false (default: true)
      hero_image: "images/hero.jpg" (optional custom image instead of compass)
      quote_text: "Optional quote text (with hero_image)"
      quote_author: "Optional quote author"
      cta_buttons:
        - text: "Primary CTA"
          url: "/contact"
          variant: "primary"
          icon: "las la-calendar"
        - text: "Secondary CTA"
          url: "/services"
          variant: "outline-primary"
          icon: "las la-arrow-right"

  Features:
    - BEM structure (.c-hero-breadcrumb)
    - Two-column layout (text left, compass/image right)
    - Compass animation atom (default right column content)
    - Optional custom title with italic accent
    - Uses breadcrumb molecule for navigation (optional)
    - Uses image atom for custom hero image (alternative to compass)
    - Responsive layout (stacked mobile, side-by-side desktop)
    - Optional kicker, subtitle, description, quote box, CTA buttons
    - Color variant support

  Example (Homepage with compass):
    hero_breadcrumb:
      title: "Găsim"
      title_accent: "Nordul Interior"
      subtitle: "Călătoria spre vindecare începe cu un singur pas..."
      show_breadcrumb: false
      show_compass: true
      cta_buttons:
        - text: "Programează Consultație"
          url: "/contact"
          variant: "primary"
        - text: "Află Mai Multe"
          url: "/services"
          variant: "outline-primary"

  Example (Service page with image):
    hero_breadcrumb:
      show_breadcrumb: true
      show_compass: false
      hero_image: "images/services-hero.jpg"
      cta_buttons:
        - text: "Contact"
          url: "/contact"
          variant: "primary"
*/}}

{{- $section := .Params.hero_breadcrumb -}}
{{- $variant := "primary" -}}
{{- $breadcrumbVariant := "neutral" -}}
{{- $showBreadcrumb := false -}}
{{- $showCompass := true -}}
{{- $title := .Title -}}
{{- $titleAccent := "" -}}
{{- $kicker := "" -}}
{{- $subtitle := "" -}}
{{- $description := "" -}}
{{- $heroImage := .Params.hero_image -}}
{{- $quoteText := "" -}}
{{- $quoteAuthor := "" -}}
{{- $ctaButtons := slice -}}

{{/* Override with section params if provided */}}
{{- if $section -}}
  {{- $variant = $section.variant | default $variant -}}
  {{- $breadcrumbVariant = $section.breadcrumb_variant | default $breadcrumbVariant -}}
  {{- $showBreadcrumb = $section.show_breadcrumb | default $showBreadcrumb -}}
  {{- $showCompass = $section.show_compass | default $showCompass -}}
  {{- $title = $section.title | default $title -}}
  {{- $titleAccent = $section.title_accent | default $titleAccent -}}
  {{- $kicker = $section.kicker | default $kicker -}}
  {{- $subtitle = $section.subtitle | default $subtitle -}}
  {{- $description = $section.description | default $description -}}
  {{- $heroImage = $section.hero_image | default $heroImage -}}
  {{- $quoteText = $section.quote_text | default $quoteText -}}
  {{- $quoteAuthor = $section.quote_author | default $quoteAuthor -}}
  {{- $ctaButtons = $section.cta_buttons | default $ctaButtons -}}
{{- end -}}

<section class="c-hero-breadcrumb c-hero-breadcrumb--{{ $variant }}">
  <div class="c-hero-breadcrumb__container o-container">
    <div class="c-hero-breadcrumb__grid">
      {{/* Content column */}}
      <div class="c-hero-breadcrumb__content">
        {{/* Optional kicker text (above title) */}}
        {{- if $kicker -}}
          <p class="c-hero-breadcrumb__kicker">{{ $kicker | markdownify }}</p>
        {{- end -}}

        {{/* Page title - supports markdown for emphasis */}}
        <h1 class="c-hero-breadcrumb__title c-heading c-heading--h1 c-heading--{{ $variant }}">
          {{ $title | markdownify }}
        </h1>

        {{/* Optional subtitle */}}
        {{- if $subtitle -}}
          <p class="c-hero-breadcrumb__subtitle">{{ $subtitle | markdownify }}</p>
        {{- end -}}

        {{/* Optional description (longer body text) */}}
        {{- if $description -}}
          <p class="c-hero-breadcrumb__description">{{ $description | markdownify }}</p>
        {{- end -}}

        {{/* Breadcrumb navigation using molecule */}}
        {{- if $showBreadcrumb -}}
          <div class="c-hero-breadcrumb__breadcrumb">
            {{ partial "molecules/breadcrumb.html" (dict
              "variant" $breadcrumbVariant
              "Title" .Title
            ) }}
          </div>
        {{- end -}}

        {{/* CTA Buttons */}}
        {{- if $ctaButtons -}}
          <div class="c-hero-breadcrumb__cta-group">
            {{- range $ctaButtons -}}
              {{ partial "atoms/button.html" (dict
                "text" .text
                "href" .url
                "variant" (.variant | default "primary")
                "icon" .icon
                "size" "lg"
                "class" "c-hero-breadcrumb__cta-button"
              ) }}
            {{- end -}}
          </div>
        {{- end -}}
      </div>

      {{/* Media column */}}
      <div class="c-hero-breadcrumb__media">
        {{- if $heroImage -}}
          {{/* Custom hero image using image atom with blob shape */}}
          <div class="c-hero-breadcrumb__image-wrapper">
            {{/* Organic blob shape background */}}
            <div class="c-hero-breadcrumb__blob" aria-hidden="true"></div>

            {{/* Image container */}}
            <div class="c-hero-breadcrumb__image">
              {{ partial "atoms/image.html" (dict
                "src" $heroImage
                "alt" .Title
                "class" "c-hero-breadcrumb__img"
              ) }}
            </div>

            {{/* Quote box overlapping image */}}
            {{- if $quoteText -}}
              <div class="c-hero-breadcrumb__quote-box">
                <i class="las la-quote-left c-hero-breadcrumb__quote-icon" aria-hidden="true"></i>
                <p class="c-hero-breadcrumb__quote-text">{{ $quoteText | markdownify }}</p>
                {{- if $quoteAuthor -}}
                  <p class="c-hero-breadcrumb__quote-author">{{ $quoteAuthor }}</p>
                {{- end -}}
              </div>
            {{- end -}}
          </div>
        {{- else if $showCompass -}}
          {{/* Compass animation atom (default for homepage hero) */}}
          {{/* DESIGN EXCELLENCE 3.4: data-parallax-layer="fast" for scroll parallax */}}
          <div class="c-hero-breadcrumb__compass-wrapper" data-parallax-layer="fast">
            {{ partial "atoms/compass-animation.html" }}
          </div>
        {{- else -}}
          {{/* Decorative SVG shapes (fallback) */}}
          {{/* DESIGN EXCELLENCE 3.4: data-parallax-layer="slow" for subtle depth */}}
          <div class="c-hero-breadcrumb__shapes" aria-hidden="true">
            <img src="{{ "images/shapes/shape-1.svg" | relURL }}" alt="" class="c-hero-breadcrumb__shape c-hero-breadcrumb__shape--1" data-parallax-layer="slow">
            <img src="{{ "images/shapes/shape-2.svg" | relURL }}" alt="" class="c-hero-breadcrumb__shape c-hero-breadcrumb__shape--2" data-parallax-layer="medium">
          </div>
        {{- end -}}
      </div>
    </div>
  </div>
</section>
