{{/* Service Highlights Section - Left-border accent cards */}}
{{ $section := .Params.service_highlights }}

{{ with $section }}
  {{ if .enable }}
    <section class="section service-highlights">
      <div class="container-xxl position-relative">
        <div class="row">
          <div class="col-lg-12">
            <div class="section-title text-center mb-5">
              {{ if .subtitle }}
                <p class="text-uppercase">{{ .subtitle | markdownify }}</p>
              {{ end }}
              {{ if .title }}
                {{ partial "atoms/heading.html" (dict "level" "h2" "text" .title "class" "title" "markdown" true) }}
              {{ end }}
              {{ if .description }}
                <p>{{ .description | markdownify }}</p>
              {{ end }}
            </div>

            <div class="row">
              {{ range .highlights }}
                <div class="col-lg-{{ .width | default "6" }} mb-4">
                  <div class="highlight-card border-start border-primary border-5 p-4 bg-light h-100"
                       data-aos="fade-up"
                       data-aos-delay="{{ mul .index 100 }}">
                    <div class="d-flex align-items-start">
                      {{ if .icon }}
                        <div class="highlight-icon me-3">
                          {{ partial "atoms/icon.html" (dict
                            "name" .icon
                            "size" "2x"
                            "color" "primary"
                          ) }}
                        </div>
                      {{ end }}
                      <div class="highlight-content flex-grow-1">
                        {{ if .title }}
                          {{ partial "atoms/heading.html" (dict "level" "h4" "text" .title "class" "mb-2" "markdown" true) }}
                        {{ end }}
                        {{ if .description }}
                          <p class="mb-0">{{ .description | markdownify }}</p>
                        {{ end }}
                        {{ if .items }}
                          <ul class="mt-2">
                            {{ range .items }}
                              <li>{{ . | markdownify }}</li>
                            {{ end }}
                          </ul>
                        {{ end }}
                      </div>
                    </div>
                  </div>
                </div>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}
{{ end }}
